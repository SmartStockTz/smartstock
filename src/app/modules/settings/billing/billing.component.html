<mat-sidenav-container class="match-parent">
  <mat-sidenav class="match-parent-side"
               [fixedInViewport]="true"
               #sidenav
               [mode]="enoughWidth()?'side':'over'"
               [opened]="!isMobile">
    <app-admin-drawer></app-admin-drawer>
  </mat-sidenav>

  <mat-sidenav-content>
    <app-toolbar [heading]=""
                 [sidenav]="sidenav"
                 [showProgress]="false"
                 [backLink]="'/settings'"
                 [hasBackRoute]="isMobile">
    </app-toolbar>

    <div [ngClass]="isMobile?'container-fluid':'container my-billing-wrapper'">

      <div [ngClass]="isMobile?'col-12':'col-12 col-lg-10 col-xl-10 offset-xl-1 offset-lg-1 offset-md-0 offset-sm-0'">

        <div>
          <p style="padding: 10px 0">
            Billing
          </p>
        </div>

        <div class="row" style="margin-bottom: 16px">
          <div style="margin-bottom: 8px" class="col-12 col-md-6 col-xl-6 col-sm-12 col-lg-6">
            <app-dash-card [content]="dueBalance" [title]="'Balance'"
                           [height]="250"
                           [description]="'If bill is negative means you have un paid invoices'">
              <ng-template #dueBalance>
                <div style="display: flex; height: 100%; justify-content: center; align-items: center">
                  <span *ngIf="!getDueBalanceFlag" style="font-size: 30px; text-space: 2px">
                    {{dueBill | currency:'TZS '}}
                  </span>
                  <app-data-not-ready *ngIf="getDueBalanceFlag || !dueBill" [isLoading]="getDueBalanceFlag"
                                      [height]="100"
                                      [width]="100"></app-data-not-ready>
                </div>
              </ng-template>
            </app-dash-card>
          </div>
          <div style="margin-bottom: 8px" class="col-12 col-md-6 col-xl-6 col-sm-12 col-lg-6">
            <app-dash-card [content]="unInvoiced" [title]="'Un Invoiced'"
                           [height]="250"
                           [description]="'Your usage cost before billed, ' +
                            'this is approximation actual cost will be billed end of the month'">
              <ng-template #unInvoiced>
                <div style="display: flex; height: 100%; justify-content: center; align-items: center">
                  <span *ngIf="!getUnInvoicedBalanceFlag" style="font-size: 30px; text-space: 2px">
                    {{unInvoicedBalance | currency:'TZS '}}
                  </span>
                  <app-data-not-ready *ngIf="getUnInvoicedBalanceFlag || !unInvoicedBalance"
                                      [isLoading]="getUnInvoicedBalanceFlag"
                                      [height]="100"
                                      [width]="100"></app-data-not-ready>
                </div>
              </ng-template>
            </app-dash-card>
          </div>
        </div>

        <div *ngIf="dueBill!==undefined">
          <div>
            <p style="padding: 10px 0">
              Payments
            </p>
          </div>

          <div style="margin-bottom: 16px" class="row">
            <button (click)="mobilePay()" mat-flat-button class="ft-button" color="primary">
              Mobile Pay
            </button>
          </div>
        </div>

        <div class="row" style="margin-bottom: 16px">
          <mat-tab-group style="width: 100%">
            <mat-tab label="Invoices">
              <app-billing-invoices></app-billing-invoices>
            </mat-tab>
            <mat-tab label="Receipts">
              <app-billing-receipts></app-billing-receipts>
            </mat-tab>
          </mat-tab-group>
        </div>
      </div>

    </div>

  </mat-sidenav-content>

</mat-sidenav-container>

