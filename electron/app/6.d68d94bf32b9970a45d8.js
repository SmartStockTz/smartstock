(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"3BUC":function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r,o=n("425f"),a=n("TYT/"),i=n("xJ+t"),s=n("R/7W"),c=n("M1DL"),u=n("+0bg"),l=n("MqYC"),b=n("DUip"),p=n("GsDI"),d=n("XIAg"),m=n("Use3"),f=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(){return t.call(this)||this}return f(e,t),e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["app-settings"]],features:[a.zb],decls:53,vars:4,consts:[[1,"match-parent"],[1,"match-parent-side",3,"mode","opened"],["sidenav",""],[3,"heading","sidenav"],["matRipple","","routerLink","/settings/general"],["matListIcon",""],["matLine",""],["matRipple","","routerLink","/settings/bill"],["matRipple","","routerLink","/settings/users"],["routerLink","/settings/profile","matRipple",""],["routerLink","/shop","matRipple",""]],template:function(t,e){if(1&t&&(a.Vb(0,"mat-sidenav-container",0),a.Vb(1,"mat-sidenav",1,2),a.Qb(3,"app-admin-drawer"),a.Ub(),a.Vb(4,"mat-sidenav-content"),a.Qb(5,"app-toolbar",3),a.Vb(6,"div"),a.Vb(7,"mat-list"),a.Vb(8,"mat-list-item",4),a.Vb(9,"mat-icon",5),a.Gc(10,"settings"),a.Ub(),a.Vb(11,"h3",6),a.Gc(12,"General"),a.Ub(),a.Vb(13,"p",6),a.Vb(14,"span"),a.Gc(15,"printer & app settings"),a.Ub(),a.Ub(),a.Ub(),a.Qb(16,"mat-divider"),a.Vb(17,"mat-list-item",7),a.Vb(18,"mat-icon",5),a.Gc(19,"payment"),a.Ub(),a.Vb(20,"h3",6),a.Gc(21,"Billing"),a.Ub(),a.Vb(22,"p",6),a.Vb(23,"span"),a.Gc(24,"bills & receipts"),a.Ub(),a.Ub(),a.Ub(),a.Qb(25,"mat-divider"),a.Vb(26,"mat-list-item",8),a.Vb(27,"mat-icon",5),a.Gc(28,"supervised_user_circle"),a.Ub(),a.Vb(29,"h3",6),a.Gc(30,"Users"),a.Ub(),a.Vb(31,"p",6),a.Vb(32,"span"),a.Gc(33,"seller & managers settings"),a.Ub(),a.Ub(),a.Ub(),a.Qb(34,"mat-divider"),a.Vb(35,"mat-list-item",9),a.Vb(36,"mat-icon",5),a.Gc(37,"person"),a.Ub(),a.Vb(38,"h3",6),a.Gc(39,"Profile"),a.Ub(),a.Vb(40,"p",6),a.Vb(41,"span"),a.Gc(42,"Your details"),a.Ub(),a.Ub(),a.Ub(),a.Qb(43,"mat-divider"),a.Vb(44,"mat-list-item",10),a.Vb(45,"mat-icon",5),a.Gc(46,"store"),a.Ub(),a.Vb(47,"h3",6),a.Gc(48,"Shops"),a.Ub(),a.Vb(49,"p",6),a.Vb(50,"span"),a.Gc(51,"change shop & manage"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Qb(52,"app-bottom-bar"),a.Ub(),a.Ub()),2&t){var n=a.tc(2);a.Cb(1),a.nc("mode",e.enoughWidth()?"side":"over")("opened",e.enoughWidth()),a.Cb(4),a.nc("heading","Settings")("sidenav",n)}},directives:[i.e,i.d,s.a,i.f,c.a,u.a,u.c,l.s,b.c,p.a,u.b,l.j,d.a,m.a],styles:[""]}),e}(o.a)},"3Igq":function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n("TYT/"),o=n("Valr"),a=n("p+mS"),i=n("2J1J"),s=n("GsDI"),c=n("uad8");function u(t,e){if(1&t){var n=r.Wb();r.Vb(0,"div",1),r.Qb(1,"img",2),r.Vb(2,"h4"),r.Gc(3,"No Data"),r.Ub(),r.Vb(4,"button",3),r.dc("click",(function(){return r.xc(n),r.hc().callBack()})),r.Vb(5,"mat-icon",4),r.Gc(6," refresh "),r.Ub(),r.Ub(),r.Ub()}}function l(t,e){1&t&&(r.Vb(0,"div",1),r.Qb(1,"img",5),r.Vb(2,"h4"),r.Gc(3,"Fetching data..."),r.Ub(),r.Qb(4,"mat-progress-spinner",6),r.Ub()),2&t&&(r.Cb(4),r.nc("diameter",30))}var b=function(){function t(){this.refreshCallback=new r.o}return t.prototype.ngOnInit=function(){},t.prototype.callBack=function(){this.refreshCallback.emit()},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-on-fetch"]],inputs:{isLoading:"isLoading"},outputs:{refreshCallback:"refreshCallback"},decls:2,vars:2,consts:[["class","no-data-wrapper",4,"ngIf"],[1,"no-data-wrapper"],["src","/assets/img/empty.svg","width","200px","alt",""],["matTooltip","Click to refresh","mat-raised-button","","mat-icon-button","",3,"click"],["color","accent"],["src","/assets/img/data.svg","width","200px","alt",""],["color","accent","mode","indeterminate",3,"diameter"]],template:function(t,e){1&t&&(r.Ec(0,u,7,0,"div",0),r.Ec(1,l,5,1,"div",0)),2&t&&(r.nc("ngIf",!e.isLoading),r.Cb(1),r.nc("ngIf",e.isLoading))},directives:[o.t,a.b,i.a,s.a,c.a],styles:[".no-data-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:48px}.no-data-wrapper[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{padding:8px}"]}),t}()},Ggrv:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HUVf"),o=n("TYT/"),a=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(e){a(e)}}function s(t){try{c(r.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}c((r=r.apply(t,e||[])).next())}))},i=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=function(){function t(t){this.userApi=t}return t.prototype.transform=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return a(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.userApi.getCurrentShop()];case 1:return e=n.sent(),t.push(e),[2,t.map((function(t){return t.businessName}))];case 2:return n.sent(),[2,[]];case 3:return[2]}}))}))},t.\u0275fac=function(e){return new(e||t)(o.Pb(r.a))},t.\u0275pipe=o.Ob({name:"shopsPipe",type:t,pure:!0}),t}()},JbTN:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var r=n("HUVf"),o=n("TYT/"),a=n("QJY3"),i=n("5msO"),s=n("17Os"),c=n("Valr"),u=n("eHTH"),l=n("cSbt"),b=n("p+mS"),p=n("GsDI"),d=n("uad8");function m(t,e){1&t&&(o.Vb(0,"mat-icon"),o.Gc(1,"visibility_on"),o.Ub())}function f(t,e){1&t&&(o.Vb(0,"mat-icon"),o.Gc(1,"visibility_off"),o.Ub())}function h(t,e){1&t&&(o.Vb(0,"mat-icon"),o.Gc(1,"visibility_on"),o.Ub())}function g(t,e){1&t&&(o.Vb(0,"mat-icon"),o.Gc(1,"visibility_off"),o.Ub())}function y(t,e){1&t&&o.Qb(0,"mat-progress-spinner",14),2&t&&o.nc("diameter",30)}function U(t,e){if(1&t){var n=o.Wb();o.Vb(0,"form",5),o.dc("ngSubmit",(function(){return o.xc(n),o.hc().changePassword()})),o.Vb(1,"div",6),o.Vb(2,"div",7),o.Vb(3,"mat-form-field",8),o.Vb(4,"mat-label"),o.Gc(5,"Last Password"),o.Ub(),o.Qb(6,"input",9),o.Vb(7,"button",10),o.dc("click",(function(){return o.xc(n),o.hc().toggleLastPasswordVisibility()})),o.Ec(8,m,2,0,"mat-icon",4),o.Ec(9,f,2,0,"mat-icon",4),o.Ub(),o.Vb(10,"mat-error"),o.Gc(11,"last password required"),o.Ub(),o.Ub(),o.Vb(12,"mat-form-field",8),o.Vb(13,"mat-label"),o.Gc(14,"New Password"),o.Ub(),o.Qb(15,"input",11),o.Vb(16,"button",10),o.dc("click",(function(){return o.xc(n),o.hc().togglePasswordVisibility()})),o.Ec(17,h,2,0,"mat-icon",4),o.Ec(18,g,2,0,"mat-icon",4),o.Ub(),o.Vb(19,"mat-error"),o.Gc(20,"new password required, and must be at least 6 characters"),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Vb(21,"div",6),o.Vb(22,"button",12),o.Gc(23," CHANGE "),o.Ec(24,y,1,1,"mat-progress-spinner",13),o.Ub(),o.Ub(),o.Ub()}if(2&t){var r=o.hc();o.nc("formGroup",r.authForm),o.Cb(6),o.nc("type",r.showLastPassword?"text":"password"),o.Cb(2),o.nc("ngIf",r.showLastPassword),o.Cb(1),o.nc("ngIf",!r.showLastPassword),o.Cb(6),o.nc("type",r.showPassword?"text":"password"),o.Cb(2),o.nc("ngIf",r.showPassword),o.Cb(1),o.nc("ngIf",!r.showPassword),o.Cb(4),o.nc("disabled",r.updateUserProgress),o.Cb(2),o.nc("ngIf",r.updateUserProgress)}}function v(t,e){1&t&&o.Qb(0,"mat-progress-spinner",15),2&t&&o.nc("diameter",25)}function V(t,e){if(1&t){var n=o.Wb();o.Vb(0,"div"),o.Vb(1,"mat-card-subtitle"),o.Gc(2," Failure when try to fetch your personal information, try to refresh "),o.Ub(),o.Vb(3,"button",16),o.dc("click",(function(){return o.xc(n),o.hc()._getCurrentUser()})),o.Vb(4,"mat-icon",17),o.Gc(5," refresh "),o.Ub(),o.Ub(),o.Ub()}}var w=function(){function t(t,e,n){this._formBuilder=t,this._snack=e,this._userApi=n,this.getUserProgress=!1,this.updateUserProgress=!1,this.showLastPassword=!1,this.showPassword=!1}return t.prototype.ngOnInit=function(){this._getCurrentUser()},t.prototype._initializeForm=function(t){this.authForm=this._formBuilder.group({lastPassword:[""],password:[""]})},t.prototype._getCurrentUser=function(){var t=this;this.getUserProgress=!0,this._userApi.currentUser().then((function(e){t.currentUser=e,t._initializeForm(t.currentUser),t.getUserProgress=!1})).catch((function(e){console.log(e),t.getUserProgress=!1,t._snack.open("Error when trying to get user details","Ok",{duration:3e3})}))},t.prototype.changePassword=function(){var t=this;this.authForm.valid?(this.updateUserProgress=!0,this._userApi.changePasswordFromOld({lastPassword:this.authForm.value.lastPassword,password:this.authForm.value.password,user:this.currentUser}).then((function(e){return n=t,void 0,o=function(){return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(t){switch(t.label){case 0:return this.updateUserProgress=!1,this._snack.open("Your password changed successful","Ok",{duration:3e3}),[4,this._userApi.updateCurrentUser(e)];case 1:return t.sent(),this._resetForm(!0),[2]}}))},new((r=void 0)||(r=Promise))((function(t,e){function a(t){try{s(o.next(t))}catch(n){e(n)}}function i(t){try{s(o.throw(t))}catch(n){e(n)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,i)}s((o=o.apply(n,[])).next())}));var n,r,o})).catch((function(e){console.log(e),t.updateUserProgress=!1,t._snack.open("Fails to change password, try again or contact support","Ok",{duration:3e3}),t._resetForm(!0)}))):this._snack.open("Please fill all required fields","Ok",{duration:3e3})},t.prototype._resetForm=function(t){var e=this;t&&this.authForm.reset({lastPassword:"",password:""}),Object.keys(this.authForm.controls).forEach((function(t){e.authForm.get(t).markAsUntouched()}))},t.prototype.toggleLastPasswordVisibility=function(){this.showLastPassword=!this.showLastPassword},t.prototype.togglePasswordVisibility=function(){this.showPassword=!this.showPassword},t.\u0275fac=function(e){return new(e||t)(o.Pb(a.f),o.Pb(i.a),o.Pb(r.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-profile-authentication"]],decls:5,vars:3,consts:[[1,"profile-auth-wrapper"],[1,"mat-elevation-z0"],[3,"formGroup","ngSubmit",4,"ngIf"],["mode","indeterminate","color","primary",3,"diameter",4,"ngIf"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-sm-12","col-md-6","col-xl-6","col-lg-6"],["appearance","outline",1,"btn-block"],["matInput","","formControlName","lastPassword",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","password","type","text",3,"type"],["mat-flat-button","","color","primary",1,"ft-button","btn-block",3,"disabled"],["style","display: inline-block","mode","indeterminate","color","primary",3,"diameter",4,"ngIf"],["mode","indeterminate","color","primary",2,"display","inline-block",3,"diameter"],["mode","indeterminate","color","primary",3,"diameter"],["mat-icon-button","",3,"click"],["color","primary"]],template:function(t,e){1&t&&(o.Vb(0,"div",0),o.Vb(1,"mat-card",1),o.Ec(2,U,25,9,"form",2),o.Ec(3,v,1,1,"mat-progress-spinner",3),o.Ec(4,V,6,0,"div",4),o.Ub(),o.Ub()),2&t&&(o.Cb(2),o.nc("ngIf",!e.getUserProgress&&e.authForm),o.Cb(1),o.nc("ngIf",e.getUserProgress),o.Cb(1),o.nc("ngIf",!e.getUserProgress&&!e.authForm))},directives:[s.a,c.t,a.H,a.s,a.j,u.b,u.f,l.b,a.c,a.r,a.i,b.b,u.i,u.a,p.a,d.a,s.l],styles:[".profile-auth-wrapper[_ngcontent-%COMP%]{padding:16px;border-radius:4px;background-color:#fff}"]}),t}()},L3sc:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("TYT/"),o=n("Valr"),a=n("uad8");function i(t,e){if(1&t&&(r.Vb(0,"div",2),r.Qb(1,"img",3),r.Vb(2,"span"),r.Gc(3,"Data is not ready yet"),r.Ub(),r.Ub()),2&t){var n=r.hc();r.Cb(1),r.oc("width",n.width),r.oc("height",n.height)}}function s(t,e){1&t&&(r.Vb(0,"div",4),r.Qb(1,"mat-progress-spinner",5),r.Ub()),2&t&&(r.Cb(1),r.nc("diameter",30))}var c=function(){function t(){this.width=200,this.height=200,this.isLoading=!1}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-data-not-ready"]],inputs:{width:"width",height:"height",isLoading:"isLoading"},decls:2,vars:2,consts:[["style","margin-top: 10px; margin-bottom: 10px","class","d-flex flex-column justify-content-center align-items-center",4,"ngIf"],["style","width: 100%; height: 100%; display: flex; justify-content: center; align-items: center",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","align-items-center",2,"margin-top","10px","margin-bottom","10px"],["alt","no data","src","./assets/img/data.svg",3,"width","height"],[2,"width","100%","height","100%","display","flex","justify-content","center","align-items","center"],["mode","indeterminate",3,"diameter"]],template:function(t,e){1&t&&(r.Ec(0,i,4,2,"div",0),r.Ec(1,s,2,1,"div",1)),2&t&&(r.nc("ngIf",!e.isLoading),r.Cb(1),r.nc("ngIf",e.isLoading))},directives:[o.t,a.a],styles:[""]}),t}()},"P+6c":function(t,e,n){"use strict";n.d(e,"a",(function(){return U}));var r,o=n("425f"),a=n("QJY3"),i=n("TYT/"),s=n("xJ+t"),c=n("R/7W"),u=n("M1DL"),l=n("17Os"),b=n("mWkv"),p=n("Valr"),d=n("IzAD"),m=n("Ssxx"),f=n("aFTm"),h=n("p+mS"),g=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function y(t,e){1&t&&(i.Vb(0,"button",18),i.Gc(1," MAKE PAYMENT "),i.Ub())}var U=function(t){function e(){var e=t.call(this)||this;return e.isMobilePay=!0,e.amountFormControl=new a.g(0),e}return g(e,t),e.prototype.ngOnInit=function(){},e.prototype.togglePay=function(t){console.log(t.source.name),console.log(t.value)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Jb({type:e,selectors:[["app-billing-mobile"]],features:[i.zb],decls:47,vars:17,consts:[[1,"match-parent"],[1,"match-parent-side",3,"fixedInViewport","mode","opened"],["sidenav",""],[3,"heading","sidenav","showProgress","backLink","hasBackRoute"],[1,"container","my-billing-wrapper"],[1,"my-billing-title"],[1,""],[1,"row",2,"margin-bottom","16px"],[1,"col-12","col-sm-12","col-md-4","col-xl-3","col-lg-3","bill-card-top","mat-elevation-z0","d-flex","flex-column"],[1,"bill-card-top-title","text-center"],[2,"width","100%","height","1px"],[1,"d-flex","justify-content-center","align-items-center"],[1,"bill-card-top-number"],[1,"btn-block"],["color","primary","labelPosition","after","name","mobile",2,"margin-right","10px","margin-bottom","10px",3,"checked","change"],["mat-flat-button","","class","ft-button","color","primary",4,"ngIf"],["label","Invoices"],["label","Receipts"],["mat-flat-button","","color","primary",1,"ft-button"]],template:function(t,e){if(1&t&&(i.Vb(0,"mat-sidenav-container",0),i.Vb(1,"mat-sidenav",1,2),i.Qb(3,"app-admin-drawer"),i.Ub(),i.Vb(4,"mat-sidenav-content"),i.Qb(5,"app-toolbar",3),i.Vb(6,"div",4),i.Vb(7,"h4",5),i.Gc(8," Billing "),i.Ub(),i.Vb(9,"div",6),i.Vb(10,"div",7),i.Vb(11,"mat-card",8),i.Vb(12,"mat-card-header"),i.Vb(13,"h5",9),i.Gc(14," Payment Number "),i.Ub(),i.Ub(),i.Qb(15,"hr",10),i.Vb(16,"mat-card-content",11),i.Vb(17,"span",12),i.Gc(18,"0235 2344 5406"),i.Ub(),i.Ub(),i.Ub(),i.Vb(19,"mat-card",8),i.Vb(20,"mat-card-header"),i.Vb(21,"h5",9),i.Gc(22," Amount Due "),i.Ub(),i.Ub(),i.Qb(23,"hr",10),i.Vb(24,"mat-card-content",11),i.Vb(25,"span",12),i.Gc(26),i.ic(27,"currency"),i.Ub(),i.Ub(),i.Ub(),i.Vb(28,"mat-card",8),i.Vb(29,"mat-card-header"),i.Vb(30,"h5",9),i.Gc(31," Uninvoiced balance "),i.Ub(),i.Ub(),i.Qb(32,"hr",10),i.Vb(33,"mat-card-content",11),i.Vb(34,"span",12),i.Gc(35),i.ic(36,"currency"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(37,"div",7),i.Vb(38,"div",13),i.Vb(39,"mat-radio-button",14),i.dc("change",(function(t){return e.togglePay(t)})),i.Gc(40," Mobile Payment "),i.Ub(),i.Ub(),i.Ec(41,y,2,0,"button",15),i.Ub(),i.Ub(),i.Vb(42,"mat-tab-group"),i.Vb(43,"mat-tab",16),i.Qb(44,"app-billing-invoices"),i.Ub(),i.Vb(45,"mat-tab",17),i.Qb(46,"app-billing-receipts"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub()),2&t){var n=i.tc(2);i.Cb(1),i.nc("fixedInViewport",!0)("mode",e.enoughWidth()?"side":"over")("opened",!1),i.Cb(4),i.nc("sidenav",n)("showProgress",!1)("backLink","/settings")("hasBackRoute",!0),i.Cb(21),i.Hc(i.kc(27,11,0,"TZS ")),i.Cb(9),i.Hc(i.kc(36,14,5e3,"TZS ")),i.Cb(4),i.nc("checked",e.isMobilePay),i.Cb(2),i.nc("ngIf",e.isMobilePay)}},directives:[s.e,s.d,c.a,s.f,u.a,l.a,l.f,l.d,b.a,p.t,d.c,d.a,m.a,f.a,h.b],pipes:[p.d],styles:[".my-billing-wrapper[_ngcontent-%COMP%]{padding:16px 36px}.my-billing-title[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,sans-serif;font-style:normal;font-weight:400;font-size:24px;line-height:28px;color:#626262}.bill-card-top[_ngcontent-%COMP%]{height:125px;background:#fff;border-radius:4px;margin:5px}.bill-card-top-title[_ngcontent-%COMP%]{font-family:Roboto Roboto,Helvetica Neue,sans-serif;font-weight:700;color:#aaa}.bill-card-top-number[_ngcontent-%COMP%], .bill-card-top-title[_ngcontent-%COMP%]{font-style:normal;font-size:18px;line-height:21px}.bill-card-top-number[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,sans-serif;font-weight:400;color:#000}mat-card-content[_ngcontent-%COMP%]{height:100%}"]}),e}(o.a)},PYZa:function(t,e,n){"use strict";n.d(e,"d",(function(){return N})),n.d(e,"a",(function(){return B})),n.d(e,"b",(function(){return q})),n.d(e,"c",(function(){return Y}));var r,o=n("ea4N"),a=n("ETwC"),i=n("QJY3"),s=n("n90K"),c=n("F/XL"),u=n("HUVf"),l=n("iXKo"),b=n("425f"),p=n("AytR"),d=n("TYT/"),m=n("5msO"),f=n("dOeY"),h=n("p+mS"),g=n("Valr"),y=n("uad8"),U=n("2J1J"),v=n("eHTH"),V=n("cSbt"),w=n("agxM"),P=n("MqYC"),C=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function x(t,e){1&t&&(d.Vb(0,"th",28),d.Gc(1,"Username"),d.Ub())}function k(t,e){if(1&t&&(d.Vb(0,"td",29),d.Gc(1),d.Ub()),2&t){var n=e.$implicit;d.Cb(1),d.Ic(" ",n.username," ")}}function _(t,e){1&t&&(d.Vb(0,"th",28),d.Gc(1,"Role"),d.Ub())}function G(t,e){if(1&t&&(d.Vb(0,"td",29),d.Gc(1),d.Ub()),2&t){var n=e.$implicit;d.Cb(1),d.Ic("","user"===n.role?"SELLER":"MANAGER"," ")}}function I(t,e){1&t&&(d.Vb(0,"th",28),d.Gc(1,"Shops"),d.Ub())}function O(t,e){if(1&t&&(d.Vb(0,"td",29),d.Gc(1),d.ic(2,"async"),d.ic(3,"shopsPipe"),d.Ub()),2&t){var n=e.$implicit;d.Cb(1),d.Ic("",d.jc(2,1,d.jc(3,3,n.shops))," ")}}function F(t,e){1&t&&(d.Vb(0,"th",28),d.Vb(1,"div",30),d.Gc(2," Actions "),d.Ub(),d.Ub())}function M(t,e){if(1&t){var n=d.Wb();d.Vb(0,"td",31),d.Vb(1,"div",30),d.Vb(2,"button",32),d.Vb(3,"mat-icon"),d.Gc(4,"more_vert"),d.Ub(),d.Ub(),d.Vb(5,"mat-menu",null,33),d.Vb(7,"button",16),d.dc("click",(function(){d.xc(n);var t=e.$implicit;return d.hc(3).deleteUser(t)})),d.Gc(8," Delete "),d.Ub(),d.Vb(9,"button",16),d.dc("click",(function(){d.xc(n);var t=e.$implicit;return d.hc(3).updatePassword(t)})),d.Gc(10," Update password "),d.Ub(),d.Ub(),d.Ub(),d.Ub()}if(2&t){var r=d.tc(6);d.Cb(2),d.nc("matMenuTriggerFor",r)}}function S(t,e){1&t&&d.Qb(0,"tr",34)}function T(t,e){1&t&&d.Qb(0,"tr",35)}function A(t,e){if(1&t&&(d.Vb(0,"table",18),d.Tb(1,19),d.Ec(2,x,2,0,"th",20),d.Ec(3,k,2,1,"td",21),d.Sb(),d.Tb(4,22),d.Ec(5,_,2,0,"th",20),d.Ec(6,G,2,1,"td",21),d.Sb(),d.Tb(7,23),d.Ec(8,I,2,0,"th",20),d.Ec(9,O,4,5,"td",21),d.Sb(),d.Tb(10,24),d.Ec(11,F,3,0,"th",20),d.Ec(12,M,11,1,"td",25),d.Sb(),d.Ec(13,S,1,0,"tr",26),d.Ec(14,T,1,0,"tr",27),d.Ub()),2&t){var n=d.hc(2);d.nc("dataSource",n.usersDatasource),d.Cb(13),d.nc("matHeaderRowDef",n.usersTableColums),d.Cb(1),d.nc("matRowDefColumns",n.usersTableColums)}}function D(t,e){1&t&&(d.Vb(0,"div"),d.Qb(1,"mat-progress-spinner",36),d.Ub()),2&t&&(d.Cb(1),d.nc("diameter",30))}function E(t,e){if(1&t){var n=d.Wb();d.Vb(0,"mat-sidenav-container",2),d.Vb(1,"mat-sidenav",3,4),d.Qb(3,"app-admin-drawer"),d.Ub(),d.Vb(4,"mat-sidenav-content"),d.Qb(5,"app-toolbar",5),d.Vb(6,"div",6),d.Vb(7,"mat-tab-group",7),d.Vb(8,"mat-tab",8),d.Vb(9,"div",9),d.Vb(10,"mat-card",10),d.Vb(11,"mat-card-title",11),d.Vb(12,"button",12),d.dc("click",(function(){return d.xc(n),d.hc().openAddUserDialog()})),d.Gc(13," Add User "),d.Ub(),d.Qb(14,"span",13),d.Vb(15,"button",14),d.Vb(16,"mat-icon"),d.Gc(17,"more_vert"),d.Ub(),d.Ub(),d.Vb(18,"mat-menu",null,15),d.Vb(20,"button",16),d.dc("click",(function(){return d.xc(n),d.hc().getUsers()})),d.Gc(21,"Reload Users"),d.Ub(),d.Ub(),d.Ub(),d.Vb(22,"mat-card-content"),d.Ec(23,A,15,3,"table",17),d.Ec(24,D,2,1,"div",1),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub()}if(2&t){var r=d.tc(2),o=d.tc(19),a=d.hc();d.Cb(1),d.nc("fixedInViewport",!0)("mode",a.enoughWidth()?"side":"over")("opened",!0),d.Cb(4),d.nc("sidenav",r)("showProgress",!1),d.Cb(10),d.nc("matMenuTriggerFor",o),d.Cb(8),d.nc("ngIf",!a.fetchUsersFlag&&a.usersArray&&a.usersArray.length>0),d.Cb(1),d.nc("ngIf",a.fetchUsersFlag)}}function Q(t,e){1&t&&d.Qb(0,"app-users-mobile")}function R(t,e){1&t&&d.Qb(0,"mat-progress-spinner",10)}function j(t,e){if(1&t&&(d.Vb(0,"p",11),d.Gc(1),d.Ub()),2&t){var n=d.hc();d.Cb(1),d.Hc(n.errorUserMessage)}}function L(t,e){if(1&t&&(d.Vb(0,"mat-option",16),d.Gc(1),d.Ub()),2&t){var n=e.$implicit;d.nc("value",n),d.Cb(1),d.Hc(n.businessName)}}function H(t,e){1&t&&d.Qb(0,"mat-progress-spinner",17),2&t&&d.nc("diameter",20)}function J(t,e){1&t&&d.Qb(0,"mat-progress-spinner",7),2&t&&d.nc("diameter",20)}var N=function(t){function e(e,n,r,o,a){var i=t.call(this)||this;return i.userDatabase=e,i.formBuilder=n,i.dialog=r,i.logger=o,i.snack=a,i.usersTableColums=["name","role","shops","actions"],i.fetchUsersFlag=!1,i.isMobile=p.a.android,i}return C(e,t),e.prototype.ngOnInit=function(){this.getUsers()},e.prototype.searchUser=function(t){},e.prototype.getUsers=function(){var t=this;this.fetchUsersFlag=!0,this.userDatabase.getAllUser({size:100,skip:0}).then((function(e){t.usersArray=JSON.parse(JSON.stringify(e)),t.usersDatasource=new a.o(t.usersArray),t.fetchUsersFlag=!1})).catch((function(e){t.logger.i(e),t.fetchUsersFlag=!1}))},e.prototype.deleteUser=function(t){var e=this;this.dialog.open(B,{data:t,disableClose:!0}).afterClosed().subscribe((function(n){n?(e.usersArray=e.usersArray.filter((function(e){return e.objectId!==t.objectId})),e.usersDatasource=new a.o(e.usersArray),e.snack.open("User deleted","Ok",{duration:2e3})):e.snack.open("User not deleted","Ok",{duration:2e3})}))},e.prototype.updateUserName=function(t,e){},e.prototype.updateUser=function(t){},e.prototype.updateUserDescription=function(t,e){},e.prototype.openAddUserDialog=function(){var t=this;this.dialog.open(q,{closeOnNavigation:!0,hasBackdrop:!0}).afterClosed().subscribe((function(e){e&&(t.usersArray.push(e),t.usersDatasource.data=t.usersArray)}))},e.prototype.updatePassword=function(t){this.dialog.open(Y,{data:t})},e.\u0275fac=function(t){return new(t||e)(d.Pb(u.a),d.Pb(i.f),d.Pb(o.b),d.Pb(l.a),d.Pb(m.a))},e.\u0275cmp=d.Jb({type:e,selectors:[["app-users"]],features:[d.zb],decls:2,vars:2,consts:[["class","match-parent",4,"ngIf"],[4,"ngIf"],[1,"match-parent"],[1,"match-parent-side",3,"fixedInViewport","mode","opened"],["sidenav",""],[3,"heading","sidenav","showProgress"],[1,"container","my-users-wrapper"],[1,"container"],["label","All Users"],[1,""],[1,"mat-elevation-z0"],[1,"d-flex","flex-row"],["color","primary","mat-flat-button","",1,"ft-button",3,"click"],[1,"toolbar-spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["menuUsers",""],["mat-menu-item","",3,"click"],["style","margin-top: 16px","class","my-input","mat-table","",3,"dataSource",4,"ngIf"],["mat-table","",1,"my-input",2,"margin-top","16px",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["class","","matRipple","","mat-cell","",4,"matCellDef"],["matColumnDef","role"],["matColumnDef","shops"],["matColumnDef","actions"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","table-data-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["matRipple","","mat-cell","",1,""],[1,"d-flex","justify-content-end","align-items-end"],["mat-cell",""],["color","primary","mat-icon-button","",3,"matMenuTriggerFor"],["opts",""],["mat-header-row",""],["mat-row","",1,"table-data-row"],["matTooltip","fetch users","mode","indeterminate","color","primary",3,"diameter"]],template:function(t,e){1&t&&(d.Ec(0,E,25,8,"mat-sidenav-container",0),d.Ec(1,Q,1,0,"app-users-mobile",1)),2&t&&(d.nc("ngIf",!e.isMobile),d.Cb(1),d.nc("ngIf",e.isMobile))},styles:["td[_ngcontent-%COMP%]{padding:8px}.my-users-wrapper[_ngcontent-%COMP%]{margin-top:16px}"]}),e}(b.a),B=function(){function t(t,e,n,r){this.dialogRef=t,this.userDatabase=e,this.logger=n,this.data=r,this.deleteProgress=!1}return t.prototype.deleteUser=function(t){var e=this;this.errorUserMessage=void 0,this.deleteProgress=!0,this.userDatabase.deleteUser(t).then((function(n){e.dialogRef.close(t),e.deleteProgress=!1,e.logger.i(n)})).catch((function(t){e.errorUserMessage=t&&t.message?t.message:t.toString(),e.deleteProgress=!1}))},t.prototype.cancel=function(){this.dialogRef.close(null)},t.\u0275fac=function(e){return new(e||t)(d.Pb(o.h),d.Pb(u.a),d.Pb(l.a),d.Pb(o.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-dialog-user-delete"]],decls:16,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"text-center"],[1,"d-flex","justify-content-center"],[1,"align-self-center",2,"margin","8px"],["color","primary","mat-button","",3,"disabled","click"],["matTooltip","Delete in progress...","style","display: inline-block","mode","indeterminate","diameter","15","color","accent",4,"ngIf"],[1,"alert-secondary",2,"margin","8px"],["class","bg-danger",4,"ngIf"],["matTooltip","Delete in progress...","mode","indeterminate","diameter","15","color","accent",2,"display","inline-block"],[1,"bg-danger"]],template:function(t,e){1&t&&(d.Vb(0,"div",0),d.Vb(1,"div",1),d.Vb(2,"div",2),d.Vb(3,"mat-panel-title",3),d.Gc(4," Your about to delete user : "),d.Vb(5,"b"),d.Gc(6),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(7,"div",4),d.Vb(8,"div",5),d.Vb(9,"button",6),d.dc("click",(function(){return e.deleteUser(e.data)})),d.Gc(10," Delete "),d.Ec(11,R,1,0,"mat-progress-spinner",7),d.Ub(),d.Ub(),d.Vb(12,"div",8),d.Vb(13,"button",6),d.dc("click",(function(){return e.cancel()})),d.Gc(14,"Cancel"),d.Ub(),d.Ub(),d.Ub(),d.Ec(15,j,2,1,"p",9),d.Ub()),2&t&&(d.Cb(6),d.Hc(" "+e.data.username),d.Cb(3),d.nc("disabled",e.deleteProgress),d.Cb(2),d.nc("ngIf",e.deleteProgress),d.Cb(2),d.nc("disabled",e.deleteProgress),d.Cb(2),d.nc("ngIf",e.errorUserMessage))},directives:[f.h,h.b,g.t,y.a,U.a],styles:["td[_ngcontent-%COMP%]{padding:8px}.my-users-wrapper[_ngcontent-%COMP%]{margin-top:16px}"]}),t}(),q=function(){function t(t,e,n,r,o,a){this.formBuilder=t,this.snack=e,this.storage=n,this.userDatabase=r,this.logger=o,this.dialogRef=a,this.createUserProgress=!1}return t.prototype.ngOnInit=function(){this._getShops(),this.initiateForm()},t.prototype.initiateForm=function(){this.newUserForm=this.formBuilder.group({username:["",[i.F.nullValidator,i.F.required]],password:["",[i.F.nullValidator,i.F.required]],shops:[[],[i.F.nullValidator,i.F.required]],role:["user",[i.F.nullValidator,i.F.required]]})},t.prototype.createUser=function(){var t=this;this.newUserForm.valid?(this.createUserProgress=!0,this.newUserForm.value.username.trim(),this.newUserForm.value.password.trim(),this.userDatabase.addUser(this.newUserForm.value).then((function(e){t.createUserProgress=!1,e.username=t.newUserForm.value.username,e.role=t.newUserForm.value.role,t.dialogRef.close(e),t.snack.open("User created","Ok",{duration:3e3})})).catch((function(e){t.logger.i(e),t.createUserProgress=!1,t.snack.open(e&&e.error&&e.error.message?e.error.message:"User not created, try again","Ok",{duration:3e3})}))):this.snack.open("Please fll all details","Ok",{duration:3e3})},t.prototype.cancel=function(t){t.preventDefault(),this.dialogRef.close(null)},t.prototype._getShops=function(){var t=this;this.userDatabase.getShops().then((function(e){t.shops=Object(c.a)(e)})).catch((function(e){t.logger.e(e,"DialogUserNewComponent:203"),t.shops=Object(c.a)([])}))},t.\u0275fac=function(e){return new(e||t)(d.Pb(i.f),d.Pb(m.a),d.Pb(s.a),d.Pb(u.a),d.Pb(l.a),d.Pb(o.h))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-new-user"]],decls:41,vars:7,consts:[[2,"min-width","300px"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"d-flex","flex-column",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","text","formControlName","username","required",""],["autocomplete","false","matInput","","type","text","formControlName","password","required",""],["formControlName","role"],["value","manager"],["value","user"],["formControlName","shops",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],["color","primary","mat-flat-button","",1,"ft-button",3,"disabled"],["style","display: inline-block","mode","indeterminate",3,"diameter",4,"ngIf"],[2,"margin-bottom","8px"],["color","warn","mat-button","",3,"click"],[3,"value"],["mode","indeterminate",2,"display","inline-block",3,"diameter"]],template:function(t,e){1&t&&(d.Vb(0,"div",0),d.Vb(1,"div",1),d.Gc(2,"Create User"),d.Ub(),d.Vb(3,"div",2),d.Vb(4,"form",3),d.dc("ngSubmit",(function(){return e.createUser()})),d.Vb(5,"mat-form-field",4),d.Vb(6,"mat-label"),d.Gc(7,"Username"),d.Ub(),d.Qb(8,"input",5),d.Vb(9,"mat-error"),d.Gc(10,"Username required"),d.Ub(),d.Ub(),d.Vb(11,"mat-form-field",4),d.Vb(12,"mat-label"),d.Gc(13,"Password"),d.Ub(),d.Qb(14,"input",6),d.Vb(15,"mat-error"),d.Gc(16,"Password required"),d.Ub(),d.Ub(),d.Vb(17,"mat-form-field",4),d.Vb(18,"mat-label"),d.Gc(19,"Roles"),d.Ub(),d.Vb(20,"mat-select",7),d.Vb(21,"mat-option",8),d.Gc(22,"MANAGER"),d.Ub(),d.Vb(23,"mat-option",9),d.Gc(24,"SELLER"),d.Ub(),d.Ub(),d.Vb(25,"mat-error"),d.Gc(26,"Role required"),d.Ub(),d.Ub(),d.Vb(27,"mat-form-field",4),d.Vb(28,"mat-label"),d.Gc(29,"Shop ( s )"),d.Ub(),d.Vb(30,"mat-select",10),d.Ec(31,L,2,2,"mat-option",11),d.ic(32,"async"),d.Ub(),d.Vb(33,"mat-error"),d.Gc(34,"Shop ( s ) required"),d.Ub(),d.Ub(),d.Vb(35,"button",12),d.Gc(36," Save "),d.Ec(37,H,1,1,"mat-progress-spinner",13),d.Ub(),d.Qb(38,"span",14),d.Vb(39,"button",15),d.dc("click",(function(t){return e.cancel(t)})),d.Gc(40," Close "),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&t&&(d.Cb(4),d.nc("formGroup",e.newUserForm),d.Cb(26),d.nc("multiple",!0),d.Cb(1),d.nc("ngForOf",d.jc(32,5,e.shops)),d.Cb(4),d.nc("disabled",e.createUserProgress),d.Cb(2),d.nc("ngIf",e.createUserProgress))},directives:[o.i,o.f,i.H,i.s,i.j,v.b,v.f,V.b,i.c,i.r,i.i,i.C,v.a,w.a,P.n,g.s,h.b,g.t,y.a],pipes:[g.b],styles:["td[_ngcontent-%COMP%]{padding:8px}.my-users-wrapper[_ngcontent-%COMP%]{margin-top:16px}"]}),t}(),Y=function(){function t(t,e,n,r,o,a){this.dialogRef=t,this._formBuilder=e,this._snack=n,this.logger=r,this._userApi=o,this.data=a,this.updateProgress=!1}return t.prototype.ngOnInit=function(){this.updatePasswordFormGroup=this._formBuilder.group({password:["",[i.F.required,i.F.nullValidator]]})},t.prototype.updatePassword=function(){var t=this;this.updatePasswordFormGroup.valid?(this.updateProgress=!0,this._userApi.updatePassword(this.data,this.updatePasswordFormGroup.value.password).then((function(e){t._snack.open("Password updated successful","Ok",{duration:3e3}),t.updateProgress=!1,t.dialogRef.close()})).catch((function(e){t.logger.i(e),t._snack.open("Failure when try to update password, try again","Ok",{duration:3e3}),t.updateProgress=!1}))):this._snack.open("Please enter new password","Ok",{duration:3e3})},t.\u0275fac=function(e){return new(e||t)(d.Pb(o.h),d.Pb(i.f),d.Pb(m.a),d.Pb(l.a),d.Pb(u.a),d.Pb(o.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-user-update-password"]],decls:13,vars:4,consts:[[2,"min-width","300px"],["mat-dialog-title",""],[3,"formGroup","ngSubmit"],["appearance","outline",1,"btn-block"],["autocomplete","false","type","text","formControlName","password","matInput",""],["mat-flat-button","","color","primary",1,"btn-block",3,"disabled"],["style","display: inline-block","mode","indeterminate","color","primary",3,"diameter",4,"ngIf"],["mode","indeterminate","color","primary",2,"display","inline-block",3,"diameter"]],template:function(t,e){1&t&&(d.Vb(0,"div",0),d.Vb(1,"h4",1),d.Gc(2),d.Ub(),d.Vb(3,"form",2),d.dc("ngSubmit",(function(){return e.updatePassword()})),d.Vb(4,"mat-form-field",3),d.Vb(5,"mat-label"),d.Gc(6,"Password"),d.Ub(),d.Qb(7,"input",4),d.Vb(8,"mat-error"),d.Gc(9,"Password required"),d.Ub(),d.Ub(),d.Vb(10,"button",5),d.Gc(11," Update "),d.Ec(12,J,1,1,"mat-progress-spinner",6),d.Ub(),d.Ub(),d.Ub()),2&t&&(d.Cb(2),d.Ic("Password Update for : ",e.data.username,""),d.Cb(1),d.nc("formGroup",e.updatePasswordFormGroup),d.Cb(7),d.nc("disabled",e.updateProgress),d.Cb(2),d.nc("ngIf",e.updateProgress))},directives:[o.i,i.H,i.s,i.j,v.b,v.f,i.c,V.b,i.r,i.i,v.a,h.b,g.t,y.a],styles:["td[_ngcontent-%COMP%]{padding:8px}.my-users-wrapper[_ngcontent-%COMP%]{margin-top:16px}"]}),t}()},Ssxx:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("TYT/"),o=n("17Os"),a=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-billing-invoices"]],decls:1,vars:0,consts:[[1,"mat-elevation-z0"]],template:function(t,e){1&t&&r.Qb(0,"mat-card",0)},directives:[o.a],styles:[""]}),t}()},TijS:function(t,e,n){"use strict";n.d(e,"a",(function(){return U}));var r=n("QJY3"),o=n("HUVf"),a=n("TYT/"),i=n("5msO"),s=n("17Os"),c=n("Valr"),u=n("eHTH"),l=n("2J1J"),b=n("cSbt"),p=n("p+mS"),d=n("uad8"),m=n("GsDI");function f(t,e){1&t&&a.Qb(0,"mat-progress-spinner",17),2&t&&a.nc("diameter",30)}function h(t,e){if(1&t){var n=a.Wb();a.Vb(0,"form",5),a.dc("ngSubmit",(function(){return a.xc(n),a.hc().updatePersonalInformation()})),a.Vb(1,"div",6),a.Vb(2,"div",7),a.Vb(3,"mat-form-field",8),a.Vb(4,"mat-label"),a.Gc(5,"Username"),a.Ub(),a.Qb(6,"input",9),a.Ub(),a.Vb(7,"mat-form-field",10),a.Vb(8,"mat-label"),a.Gc(9,"First Name"),a.Ub(),a.Qb(10,"input",11),a.Vb(11,"mat-error"),a.Gc(12,"first name field required"),a.Ub(),a.Ub(),a.Vb(13,"mat-form-field",10),a.Vb(14,"mat-label"),a.Gc(15,"Last Name"),a.Ub(),a.Qb(16,"input",12),a.Vb(17,"mat-error"),a.Gc(18,"last name field required"),a.Ub(),a.Ub(),a.Ub(),a.Vb(19,"div",7),a.Vb(20,"mat-form-field",10),a.Vb(21,"mat-label"),a.Gc(22,"Mobile"),a.Ub(),a.Qb(23,"input",13),a.Vb(24,"mat-error"),a.Gc(25,"mobile field required"),a.Ub(),a.Ub(),a.Vb(26,"mat-form-field",10),a.Vb(27,"mat-label"),a.Gc(28,"Email"),a.Ub(),a.Qb(29,"input",14),a.Vb(30,"mat-error"),a.Gc(31,"email field required"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(32,"div",6),a.Vb(33,"button",15),a.Gc(34," SAVE "),a.Ec(35,f,1,1,"mat-progress-spinner",16),a.Ub(),a.Ub(),a.Ub()}if(2&t){var r=a.hc();a.nc("formGroup",r.personalForm),a.Cb(6),a.nc("formControl",r.usernameFormControl)("readonly",!0),a.Cb(27),a.nc("disabled",r.updateUserProgress),a.Cb(2),a.nc("ngIf",r.updateUserProgress)}}function g(t,e){1&t&&a.Qb(0,"mat-progress-spinner",18),2&t&&a.nc("diameter",25)}function y(t,e){if(1&t){var n=a.Wb();a.Vb(0,"div"),a.Vb(1,"mat-card-subtitle"),a.Gc(2," Failure when try to fetch your personal information, try to refresh "),a.Ub(),a.Vb(3,"button",19),a.dc("click",(function(){return a.xc(n),a.hc()._getCurrentUser()})),a.Vb(4,"mat-icon",20),a.Gc(5," refresh "),a.Ub(),a.Ub(),a.Ub()}}var U=function(){function t(t,e,n){this._formBuilder=t,this._snack=e,this._userApi=n,this.getUserProgress=!1,this.updateUserProgress=!1,this.usernameFormControl=new r.g("",[r.F.nullValidator,r.F.required])}return t.prototype.ngOnInit=function(){this._getCurrentUser()},t.prototype._initializeForm=function(t){this.usernameFormControl.setValue(t.username),this.personalForm=this._formBuilder.group({firstname:[t.firstname,[r.F.nullValidator,r.F.required]],lastname:[t.lastname,[r.F.nullValidator,r.F.required]],email:[t.email,[r.F.nullValidator,r.F.required]],mobile:[t.mobile,[r.F.nullValidator,r.F.required]]})},t.prototype._getCurrentUser=function(){var t=this;this.getUserProgress=!0,this._userApi.currentUser().then((function(e){t.currentUser=e,t._initializeForm(t.currentUser),t.getUserProgress=!1})).catch((function(e){console.log(e),t.getUserProgress=!1,t._snack.open("Error when trying get your details","Ok",{duration:3e3})}))},t.prototype.updatePersonalInformation=function(){var t=this;this.personalForm.valid?(this.updateUserProgress=!0,this._userApi.updateUser(this.currentUser,this.personalForm.value).then((function(e){return n=t,void 0,o=function(){return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(t){switch(t.label){case 0:return this.updateUserProgress=!1,this._snack.open("Your personal information is updated","Ok",{duration:3e3}),[4,this._userApi.updateCurrentUser(e)];case 1:return t.sent(),this.personalForm.reset({firstname:e.firstname,lastname:e.lastname,email:e.email,mobile:e.mobile}),[2]}}))},new((r=void 0)||(r=Promise))((function(t,e){function a(t){try{s(o.next(t))}catch(n){e(n)}}function i(t){try{s(o.throw(t))}catch(n){e(n)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,i)}s((o=o.apply(n,[])).next())}));var n,r,o})).catch((function(e){console.log(e),t.updateUserProgress=!1,t._snack.open("Fails to update your persona information try again later","Ok",{duration:3e3}),t.personalForm.reset({firstname:t.currentUser.firstname,lastname:t.currentUser.lastname,email:t.currentUser.email,mobile:t.currentUser.mobile})}))):this._snack.open("Please fill all required fields","Ok",{duration:3e3})},t.\u0275fac=function(e){return new(e||t)(a.Pb(r.f),a.Pb(i.a),a.Pb(o.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-profile-personal"]],decls:5,vars:3,consts:[[1,"profile-personal-wrapper"],[1,"mat-elevation-z0"],[3,"formGroup","ngSubmit",4,"ngIf"],["mode","indeterminate","color","primary",3,"diameter",4,"ngIf"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-sm-12","col-md-6","col-xl-6","col-lg-6"],["appearance","outline","matTooltip","read only field",1,"btn-block"],["matInput","","type","text",2,"color","gray",3,"formControl","readonly"],["appearance","outline",1,"btn-block"],["matInput","","formControlName","firstname","type","text"],["matInput","","formControlName","lastname","type","text"],["matInput","","formControlName","mobile","type","number"],["matInput","","formControlName","email","type","email"],["mat-flat-button","","color","primary",1,"ft-button",3,"disabled"],["style","display: inline-block","mode","indeterminate","color","primary",3,"diameter",4,"ngIf"],["mode","indeterminate","color","primary",2,"display","inline-block",3,"diameter"],["mode","indeterminate","color","primary",3,"diameter"],["mat-icon-button","",3,"click"],["color","primary"]],template:function(t,e){1&t&&(a.Vb(0,"div",0),a.Vb(1,"mat-card",1),a.Ec(2,h,36,5,"form",2),a.Ec(3,g,1,1,"mat-progress-spinner",3),a.Ec(4,y,6,0,"div",4),a.Ub(),a.Ub()),2&t&&(a.Cb(2),a.nc("ngIf",!e.getUserProgress&&e.personalForm),a.Cb(1),a.nc("ngIf",e.getUserProgress),a.Cb(1),a.nc("ngIf",!e.getUserProgress&&!e.personalForm))},directives:[s.a,c.t,r.H,r.s,r.j,u.b,l.a,u.f,b.b,r.c,r.r,r.h,r.i,u.a,r.x,p.b,d.a,s.l,m.a],styles:[".profile-personal-wrapper[_ngcontent-%COMP%]{padding:16px;border-radius:4px;background-color:#fff}"]}),t}()},YMM4:function(t,e,n){"use strict";n.d(e,"a",(function(){return R})),n.d(e,"b",(function(){return j}));var r,o=n("425f"),a=n("h/AT"),i=n("ETwC"),s=n("iAPU"),c=n("AytR"),u=n("TYT/"),l=n("5msO"),b=n("17Os"),p=n("XIAg"),d=n("Valr"),m=n("dOeY"),f=n("eHTH"),h=n("cSbt"),g=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function y(t,e){if(1&t&&(u.Vb(0,"button",19),u.Vb(1,"mat-icon"),u.Gc(2," more_vert "),u.Ub(),u.Ub()),2&t){u.hc();var n=u.tc(16);u.nc("matMenuTriggerFor",n)}}function U(t,e){1&t&&(u.Vb(0,"th",30),u.Gc(1,"Ref#"),u.Ub())}function v(t,e){if(1&t&&(u.Vb(0,"td",31),u.Gc(1),u.Ub()),2&t){var n=e.$implicit;u.Cb(1),u.Hc(n.refNumber)}}function V(t,e){1&t&&(u.Vb(0,"th",30),u.Gc(1,"Channel"),u.Ub())}function w(t,e){if(1&t&&(u.Vb(0,"td",31),u.Gc(1),u.Ub()),2&t){var n=e.$implicit;u.Cb(1),u.Hc(n.type)}}function P(t,e){1&t&&(u.Vb(0,"th",30),u.Gc(1,"Amount ( TZS )"),u.Ub())}function C(t,e){if(1&t&&(u.Vb(0,"td",31),u.Gc(1),u.ic(2,"number"),u.Ub()),2&t){var n=e.$implicit;u.Cb(1),u.Hc(u.jc(2,1,n.amount))}}function x(t,e){1&t&&(u.Vb(0,"th",30),u.Gc(1,"Status"),u.Ub())}function k(t,e){if(1&t&&(u.Vb(0,"td",31),u.Gc(1),u.Ub()),2&t){var n=e.$implicit;u.Cb(1),u.Hc(n.paid?"Paid":"Not Paid")}}function _(t,e){1&t&&(u.Vb(0,"th",30),u.Vb(1,"div",32),u.Vb(2,"span"),u.Gc(3,"Actions"),u.Ub(),u.Ub(),u.Ub())}function G(t,e){if(1&t){var n=u.Wb();u.Vb(0,"button",15),u.dc("click",(function(){u.xc(n);var t=u.hc().$implicit;return u.hc(3).recordPayment(t)})),u.Gc(1,"Record Payment "),u.Ub()}}function I(t,e){if(1&t){var n=u.Wb();u.Vb(0,"td",31),u.Vb(1,"div",32),u.Vb(2,"button",19),u.Vb(3,"mat-icon"),u.Gc(4,"more_vert"),u.Ub(),u.Ub(),u.Vb(5,"mat-menu",null,33),u.Vb(7,"button",15),u.dc("click",(function(){u.xc(n);var t=e.$implicit;return u.hc(3).showPurchaseDetails(t)})),u.Gc(8,"View"),u.Ub(),u.Ec(9,G,2,0,"button",34),u.Ub(),u.Ub(),u.Ub()}if(2&t){var r=e.$implicit,o=u.tc(6);u.Cb(2),u.nc("matMenuTriggerFor",o),u.Cb(7),u.nc("ngIf",!r.paid)}}function O(t,e){1&t&&u.Qb(0,"tr",35)}function F(t,e){1&t&&u.Qb(0,"tr",36)}function M(t,e){if(1&t&&(u.Vb(0,"table",20),u.Tb(1,21),u.Ec(2,U,2,0,"th",22),u.Ec(3,v,2,1,"td",23),u.Sb(),u.Tb(4,24),u.Ec(5,V,2,0,"th",22),u.Ec(6,w,2,1,"td",23),u.Sb(),u.Tb(7,25),u.Ec(8,P,2,0,"th",22),u.Ec(9,C,3,3,"td",23),u.Sb(),u.Tb(10,26),u.Ec(11,x,2,0,"th",22),u.Ec(12,k,2,1,"td",23),u.Sb(),u.Tb(13,27),u.Ec(14,_,4,0,"th",22),u.Ec(15,I,10,2,"td",23),u.Sb(),u.Ec(16,O,1,0,"tr",28),u.Ec(17,F,1,0,"tr",29),u.Ub()),2&t){var n=u.hc(2);u.nc("dataSource",n.purchasesDatasource),u.Cb(16),u.nc("matHeaderRowDef",n.purchaseTableColumns),u.Cb(1),u.nc("matRowDefColumns",n.purchaseTableColumns)}}function S(t,e){1&t&&u.Qb(0,"mat-progress-spinner",40),2&t&&u.nc("diameter",20)}function T(t,e){if(1&t){var n=u.Wb();u.Vb(0,"mat-card-title",37),u.Vb(1,"button",38),u.dc("click",(function(){return u.xc(n),u.hc(2).loadMore()})),u.Gc(2," Load More "),u.Ec(3,S,1,1,"mat-progress-spinner",39),u.Ub(),u.Ub()}if(2&t){var r=u.hc(2);u.Cb(1),u.nc("disabled",r.loadMoreProgress),u.Cb(2),u.nc("ngIf",r.loadMoreProgress)}}function A(t,e){1&t&&u.Qb(0,"mat-progress-spinner",41),2&t&&u.nc("diameter",30)}function D(t,e){if(1&t){var n=u.Wb();u.Vb(0,"mat-sidenav-container",2),u.Vb(1,"mat-sidenav",3,4),u.Qb(3,"app-admin-drawer"),u.Ub(),u.Vb(4,"mat-sidenav-content"),u.Vb(5,"app-toolbar",5),u.dc("searchCallback",(function(t){return u.xc(n),u.hc().handleSearch(t)})),u.Ub(),u.Vb(6,"div",6),u.Vb(7,"mat-tab-group",7),u.Vb(8,"mat-tab",8),u.Vb(9,"mat-card",9),u.Vb(10,"mat-card-title",10),u.Vb(11,"button",11),u.Gc(12,"Add Purchase "),u.Ub(),u.Qb(13,"span",12),u.Ec(14,y,3,1,"button",13),u.Vb(15,"mat-menu",null,14),u.Vb(17,"button",15),u.dc("click",(function(){return u.xc(n),u.hc().reload()})),u.Gc(18,"Reload"),u.Ub(),u.Ub(),u.Ub(),u.Vb(19,"mat-card-content"),u.Ec(20,M,18,3,"table",16),u.Ec(21,T,4,2,"mat-card-title",17),u.Ec(22,A,1,1,"mat-progress-spinner",18),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()}if(2&t){var r=u.tc(2),o=u.hc();u.Cb(1),u.nc("mode",o.enoughWidth()?"side":"over")("opened",o.enoughWidth()),u.Cb(4),u.nc("heading","Purchases")("showSearch",!0)("sidenav",r)("showProgress",!1),u.Cb(9),u.nc("ngIf",!o.getPurchaseProgress),u.Cb(6),u.nc("ngIf",!o.getPurchaseProgress&&o.purchasesDatasource&&o.purchasesDatasource.data.length>0),u.Cb(1),u.nc("ngIf",!o.getPurchaseProgress&&o.purchasesDatasource&&o.purchasesDatasource.data.length>0),u.Cb(1),u.nc("ngIf",o.getPurchaseProgress)}}function E(t,e){1&t&&u.Qb(0,"app-purchase-mobile")}function Q(t,e){if(1&t&&(u.Vb(0,"mat-expansion-panel",5),u.Vb(1,"mat-expansion-panel-header"),u.Gc(2),u.Ub(),u.Vb(3,"div",6),u.Vb(4,"mat-form-field",7),u.Vb(5,"mat-label"),u.Gc(6,"Purchase"),u.Ub(),u.Qb(7,"input",8),u.Ub(),u.Vb(8,"mat-form-field",7),u.Vb(9,"mat-label"),u.Gc(10,"Quantity"),u.Ub(),u.Qb(11,"input",8),u.Ub(),u.Vb(12,"mat-form-field",7),u.Vb(13,"mat-label"),u.Gc(14,"Amount"),u.Ub(),u.Qb(15,"input",8),u.Ub(),u.Ub(),u.Ub()),2&t){var n=e.$implicit;u.Cb(2),u.Ic(" ",n.product.product," "),u.Cb(5),u.nc("readonly",!0)("value",n.purchase),u.Cb(4),u.nc("readonly",!0)("value",n.quantity),u.Cb(4),u.nc("readonly",!0)("value",n.amount)}}var R=function(t){function e(e,n,r){var o=t.call(this)||this;return o.purchaseDatabase=e,o.bottomSheet=n,o.snack=r,o.purchaseTableColumns=["refNumber","channel","amount","status","actions"],o.getPurchaseProgress=!1,o.loadMoreProgress=!1,o.isMobile=c.a.android,o}return g(e,t),e.prototype.ngOnInit=function(){this._getAllPurchases()},e.prototype.handleSearch=function(t){this.purchasesDatasource.filter=t?t.toLowerCase():""},e.prototype._getAllPurchases=function(){var t=this;this.getPurchaseProgress=!0,this.purchaseDatabase.getAllPurchase({}).then((function(e){t.purchasesDatasource=new i.o(e),t.getPurchaseProgress=!1})).catch((function(e){t.getPurchaseProgress=!1,t.snack.open("Fails to get purchases, try again","Ok",{duration:3e3}),console.log(e)}))},e.prototype.reload=function(){this._getAllPurchases()},e.prototype.loadMore=function(){var t=this;this.loadMoreProgress=!0,this.purchaseDatabase.getAllPurchase({skip:this.purchasesDatasource.data.length}).then((function(e){if(e.length>0){var n=t.purchasesDatasource.data;e.forEach((function(t){n.push(t)})),t.purchasesDatasource=new i.o(n)}else t.snack.open("No more purchases, you have all","Ok",{duration:3e3});t.loadMoreProgress=!1})).catch((function(e){t.loadMoreProgress=!1,t.snack.open("Fails to load more purchases","Ok",{duration:3e3}),console.log(e)}))},e.prototype.showPurchaseDetails=function(t){this.bottomSheet.open(j,{data:t,closeOnNavigation:!0})},e.prototype.recordPayment=function(t){var e=this;this.snack.open("Start update payment record.."),this.purchaseDatabase.recordPayment(t.objectId).then((function(n){e.snack.open("Payments recorded","Ok",{duration:3e3});var r=e.purchasesDatasource.data.indexOf(t);if(-1!==r){var o=e.purchasesDatasource.data[r];o.paid=!0,e.purchasesDatasource.data[r]=o}})).catch((function(t){console.log(t),e.snack.open("Fails to record payments","Ok",{duration:3e3})}))},e.\u0275fac=function(t){return new(t||e)(u.Pb(s.a),u.Pb(a.b),u.Pb(l.a))},e.\u0275cmp=u.Jb({type:e,selectors:[["app-purchase"]],features:[u.Bb([s.a]),u.zb],decls:2,vars:2,consts:[["class","match-parent",4,"ngIf"],[4,"ngIf"],[1,"match-parent"],[1,"match-parent-side",3,"mode","opened"],["sidenav",""],["searchPlaceholder","Search purchase",3,"heading","showSearch","sidenav","showProgress","searchCallback"],[1,"container",2,"margin-top","16px"],["color","primary"],["label","All"],[1,"mat-elevation-z0"],[1,"d-flex","flex-row","flex-nowrap"],["routerLink","/purchase/create","mat-flat-button","","color","primary",1,"ft-button"],[1,"toolbar-spacer"],["color","primary","mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["pAoptions",""],["mat-menu-item","",3,"click"],["mat-table","",3,"dataSource",4,"ngIf"],["style","margin-top: 8px",4,"ngIf"],["mode","indeterminate","color","primary","matTooltip","'Fetching all purchases'",3,"diameter",4,"ngIf"],["color","primary","mat-icon-button","",3,"matMenuTriggerFor"],["mat-table","",3,"dataSource"],["matColumnDef","refNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","channel"],["matColumnDef","amount"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"d-flex","justify-content-end","align-items-end"],["opts",""],["mat-menu-item","",3,"click",4,"ngIf"],["mat-header-row",""],["mat-row",""],[2,"margin-top","8px"],["mat-button","","color","primary",3,"disabled","click"],["style","display: inline-block","mode","indeterminate","matTooltip","'Load more data'","color","primary",3,"diameter",4,"ngIf"],["mode","indeterminate","matTooltip","'Load more data'","color","primary",2,"display","inline-block",3,"diameter"],["mode","indeterminate","color","primary","matTooltip","'Fetching all purchases'",3,"diameter"]],template:function(t,e){1&t&&(u.Ec(0,D,23,10,"mat-sidenav-container",0),u.Ec(1,E,1,0,"app-purchase-mobile",1)),2&t&&(u.nc("ngIf",!e.isMobile),u.Cb(1),u.nc("ngIf",e.isMobile))},styles:[".space[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.full-width[_ngcontent-%COMP%]{width:100%}.example-option-img[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px}[dir=rtl][_ngcontent-%COMP%]   .example-option-img[_ngcontent-%COMP%]{margin-right:0;margin-left:8px}.input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}table[_ngcontent-%COMP%]{width:100%}"]}),e}(o.a),j=function(){function t(t,e){this._bottomSheetRef=t,this.data=e}return t.prototype.getDate=function(t){return t&&t.iso?t.iso:t},t.\u0275fac=function(e){return new(e||t)(u.Pb(a.e),u.Pb(a.a))},t.\u0275cmp=u.Jb({type:t,selectors:[["app-purchase-details"]],decls:29,vars:13,consts:[[1,"container",2,"min-width","300px"],["mat-card-title",""],[1,"row","d-flex","flex-column"],["class","mat-elevation-z0",4,"ngFor","ngForOf"],[2,"margin-bottom","24px"],[1,"mat-elevation-z0"],[1,"d-flex","flex-row","flex-wrap"],["appearance","fill",1,"my-input",2,"margin","5px"],["matInput","",3,"readonly","value"]],template:function(t,e){1&t&&(u.Vb(0,"div",0),u.Vb(1,"div",1),u.Gc(2),u.Ub(),u.Vb(3,"div",2),u.Vb(4,"mat-card-subtitle"),u.Gc(5,"Purchase date"),u.Ub(),u.Vb(6,"h5"),u.Gc(7),u.ic(8,"date"),u.Ub(),u.Qb(9,"mat-divider"),u.Vb(10,"mat-card-subtitle"),u.Gc(11,"Due date"),u.Ub(),u.Vb(12,"h5"),u.Gc(13),u.ic(14,"date"),u.Ub(),u.Qb(15,"mat-divider"),u.Vb(16,"mat-card-subtitle"),u.Gc(17,"Amount"),u.Ub(),u.Vb(18,"h5"),u.Gc(19),u.ic(20,"currency"),u.Ub(),u.Qb(21,"mat-divider"),u.Vb(22,"mat-card-subtitle"),u.Gc(23,"Supplier"),u.Ub(),u.Vb(24,"h5"),u.Gc(25),u.Ub(),u.Qb(26,"mat-divider"),u.Ec(27,Q,16,7,"mat-expansion-panel",3),u.Qb(28,"span",4),u.Ub(),u.Ub()),2&t&&(u.Cb(2),u.Hc("Invoice #"+e.data.refNumber+" Details"),u.Cb(5),u.Hc(u.jc(8,6,e.getDate(e.data.date))),u.Cb(6),u.Hc(u.jc(14,8,e.getDate(e.data.due))),u.Cb(6),u.Hc(u.kc(20,10,e.data.amount,"TZS ")),u.Cb(6),u.Hc(e.data.supplier.name),u.Cb(2),u.nc("ngForOf",e.data.items))},directives:[b.m,b.l,p.a,d.s,m.c,m.g,f.b,f.f,h.b],pipes:[d.f,d.d],encapsulation:2}),t}()},aFTm:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("TYT/"),o=n("17Os"),a=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-billing-receipts"]],decls:1,vars:0,consts:[[1,"mat-elevation-z0"]],template:function(t,e){1&t&&r.Qb(0,"mat-card",0)},directives:[o.a],styles:[""]}),t}()},eSUq:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n("QJY3"),o=n("n90K"),a=n("HUVf"),i=n("TYT/"),s=n("5msO"),c=n("17Os"),u=n("Valr"),l=n("eHTH"),b=n("2J1J"),p=n("cSbt"),d=n("p+mS"),m=n("uad8"),f=n("GsDI");function h(t,e){1&t&&i.Qb(0,"mat-progress-spinner",16),2&t&&i.nc("diameter",30)}function g(t,e){if(1&t){var n=i.Wb();i.Vb(0,"form",5),i.dc("ngSubmit",(function(){return i.xc(n),i.hc().updatePersonalInformation()})),i.Vb(1,"div",6),i.Vb(2,"div",7),i.Vb(3,"mat-form-field",8),i.Vb(4,"mat-label"),i.Gc(5,"Principal Shop"),i.Ub(),i.Qb(6,"input",9),i.Ub(),i.Vb(7,"mat-form-field",10),i.Vb(8,"mat-label"),i.Gc(9,"Country"),i.Ub(),i.Qb(10,"input",11),i.Vb(11,"mat-error"),i.Gc(12,"country field required"),i.Ub(),i.Ub(),i.Vb(13,"mat-form-field",10),i.Vb(14,"mat-label"),i.Gc(15,"Region"),i.Ub(),i.Qb(16,"input",12),i.Vb(17,"mat-error"),i.Gc(18,"last name field required"),i.Ub(),i.Ub(),i.Ub(),i.Vb(19,"div",7),i.Vb(20,"mat-form-field",10),i.Vb(21,"mat-label"),i.Gc(22,"street"),i.Ub(),i.Qb(23,"textarea",13),i.Vb(24,"mat-error"),i.Gc(25,"street field required"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(26,"div",6),i.Vb(27,"button",14),i.Gc(28," SAVE "),i.Ec(29,h,1,1,"mat-progress-spinner",15),i.Ub(),i.Ub(),i.Ub()}if(2&t){var r=i.hc();i.nc("formGroup",r.businessForm),i.Cb(6),i.nc("formControl",r.businessFormControl)("readonly",!0),i.Cb(17),i.nc("rows",3),i.Cb(4),i.nc("disabled",r.updateBusinessProgress),i.Cb(2),i.nc("ngIf",r.updateBusinessProgress)}}function y(t,e){1&t&&i.Qb(0,"mat-progress-spinner",17),2&t&&i.nc("diameter",25)}function U(t,e){if(1&t){var n=i.Wb();i.Vb(0,"div"),i.Vb(1,"mat-card-subtitle"),i.Gc(2," Failure when try to fetch your business information, try to refresh "),i.Ub(),i.Vb(3,"button",18),i.dc("click",(function(){return i.xc(n),i.hc()._getCurrentBusiness()})),i.Vb(4,"mat-icon",19),i.Gc(5," refresh "),i.Ub(),i.Ub(),i.Ub()}}var v=function(){function t(t,e,n,o){this._formBuilder=t,this._snack=e,this._storage=n,this._userApi=o,this.getBusinessProgress=!1,this.updateBusinessProgress=!1,this.businessFormControl=new r.g("",[r.F.nullValidator,r.F.required])}return t.prototype.ngOnInit=function(){this._getCurrentBusiness()},t.prototype._initializeForm=function(t){this.businessFormControl.setValue(t.businessName),this.businessForm=this._formBuilder.group({country:[t.country,[r.F.nullValidator,r.F.required]],street:[t.street,[r.F.nullValidator,r.F.required]],region:[t.region,[r.F.nullValidator,r.F.required]]})},t.prototype._getCurrentBusiness=function(){var t=this;this.getBusinessProgress=!0,this._storage.getActiveUser().then((function(e){t.currentUser=e,t._initializeForm(t.currentUser),t.getBusinessProgress=!1})).catch((function(e){console.log(e),t.getBusinessProgress=!1,t._snack.open("Error when trying to get shop details","Ok",{duration:3e3})}))},t.prototype.updatePersonalInformation=function(){var t=this;this.businessForm.valid?(this.updateBusinessProgress=!0,this._userApi.updateUser(this.currentUser,this.businessForm.value).then((function(e){return n=t,void 0,o=function(){return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,(function(t){switch(t.label){case 0:return this.updateBusinessProgress=!1,this._snack.open("Your shop information is updated","Ok",{duration:3e3}),[4,this._userApi.updateCurrentUser(e)];case 1:return t.sent(),this.businessForm.reset({country:e.country,region:e.region,street:e.street}),[2]}}))},new((r=void 0)||(r=Promise))((function(t,e){function a(t){try{s(o.next(t))}catch(n){e(n)}}function i(t){try{s(o.throw(t))}catch(n){e(n)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,i)}s((o=o.apply(n,[])).next())}));var n,r,o})).catch((function(e){console.log(e),t.updateBusinessProgress=!1,t._snack.open("Fails to update your shop information try again later","Ok",{duration:3e3}),t.businessForm.reset({country:t.currentUser.country,region:t.currentUser.region,street:t.currentUser.street})}))):this._snack.open("Please fill all required fields","Ok",{duration:3e3})},t.\u0275fac=function(e){return new(e||t)(i.Pb(r.f),i.Pb(s.a),i.Pb(o.a),i.Pb(a.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["app-profile-address"]],decls:5,vars:3,consts:[[1,"profile-business-wrapper"],[1,"mat-elevation-z0"],[3,"formGroup","ngSubmit",4,"ngIf"],["mode","indeterminate","color","primary",3,"diameter",4,"ngIf"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-sm-12","col-md-6","col-xl-6","col-lg-6"],["appearance","outline","matTooltip","read only field",1,"btn-block"],["matInput","","type","text",2,"color","gray",3,"formControl","readonly"],["appearance","outline",1,"btn-block"],["matInput","","formControlName","country","type","text"],["matInput","","formControlName","region","type","text"],["matInput","","formControlName","street","type","text",3,"rows"],["mat-flat-button","","color","primary",1,"ft-button",3,"disabled"],["style","display: inline-block","mode","indeterminate","color","primary",3,"diameter",4,"ngIf"],["mode","indeterminate","color","primary",2,"display","inline-block",3,"diameter"],["mode","indeterminate","color","primary",3,"diameter"],["mat-icon-button","",3,"click"],["color","primary"]],template:function(t,e){1&t&&(i.Vb(0,"div",0),i.Vb(1,"mat-card",1),i.Ec(2,g,30,6,"form",2),i.Ec(3,y,1,1,"mat-progress-spinner",3),i.Ec(4,U,6,0,"div",4),i.Ub(),i.Ub()),2&t&&(i.Cb(2),i.nc("ngIf",!e.getBusinessProgress&&e.businessForm),i.Cb(1),i.nc("ngIf",e.getBusinessProgress),i.Cb(1),i.nc("ngIf",!e.getBusinessProgress&&!e.businessForm))},directives:[c.a,u.t,r.H,r.s,r.j,l.b,b.a,l.f,p.b,r.c,r.r,r.h,r.i,l.a,d.b,m.a,c.l,f.a],styles:[".profile-business-wrapper[_ngcontent-%COMP%]{padding:16px;border-radius:4px;background-color:#fff}"]}),t}()},iAPU:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("6nr9"),o=n("TYT/"),a=n("cUzu"),i=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(e){a(e)}}function s(t){try{c(r.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}c((r=r.apply(t,e||[])).next())}))},s=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=function(){function t(t,e){this._httpClient=t,this._settings=e}return t.prototype.recordPayment=function(t){var e=this;return new Promise((function(n,r){return i(e,void 0,void 0,(function(){var e,o,a,i;return s(this,(function(s){switch(s.label){case 0:return o=(e=this._httpClient).put,[4,this._settings.getCustomerServerURL()];case 1:return a=[s.sent()+"/classes/purchases/"+t,{paid:!0}],i={},[4,this._settings.getCustomerPostHeader()];case 2:return o.apply(e,a.concat([(i.headers=s.sent(),i)])).subscribe((function(t){n(t)}),(function(t){r(t)})),[2]}}))}))}))},t.prototype.addAllInvoices=function(t,e){},t.prototype.addAllPurchase=function(t,e){},t.prototype.addAllReceipts=function(t,e){},t.prototype.addInvoice=function(t,e){},t.prototype.addPurchase=function(t,e){},t.prototype.addReceipt=function(t,e){},t.prototype.deleteInvoice=function(t,e){},t.prototype.deleteReceipts=function(t,e){},t.prototype.getAllInvoice=function(t){},t.prototype.deletePurchase=function(t){var e=this;return new Promise((function(n,r){return i(e,void 0,void 0,(function(){var e,o,a,i;return s(this,(function(s){switch(s.label){case 0:return o=(e=this._httpClient).delete,[4,this._settings.getCustomerServerURL()];case 1:return a=[s.sent()+"/classes/purchases/"+t.objectId],i={},[4,this._settings.getCustomerHeader()];case 2:return o.apply(e,a.concat([(i.headers=s.sent(),i)])).subscribe((function(t){n(t)}),(function(t){r(t)})),[2]}}))}))}))},t.prototype.getAllPurchase=function(t){var e=this;return new Promise((function(n,r){return i(e,void 0,void 0,(function(){var e,o,a,i;return s(this,(function(s){switch(s.label){case 0:return o=(e=this._httpClient).get,[4,this._settings.getCustomerServerURL()];case 1:return a=[s.sent()+"/classes/purchases"],i={},[4,this._settings.getCustomerHeader()];case 2:return o.apply(e,a.concat([(i.headers=s.sent(),i.params={order:"-updatedAt",limit:t.size?t.size.toString():"100",skip:t.skip?t.skip.toString():"0"},i)])).subscribe((function(t){n(t.results)}),(function(t){r(t)})),[2]}}))}))}))},t.prototype.updateCachePurchase=function(){},t.prototype.getAllReceipts=function(t){t(null)},t.prototype.updateCachedPurchaseRefs=function(){},t.prototype.getInvoice=function(t,e){},t.prototype.getPurchase=function(t,e){},t.prototype.getReceipt=function(t,e){},t.prototype.updatePurchase=function(t,e){},t.\u0275fac=function(e){return new(e||t)(o.Zb(a.a),o.Zb(r.a))},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t}()},janj:function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));var r,o=n("425f"),a=n("F/XL"),i=n("iAPU"),s=n("lmh7"),c=n("YMM4"),u=n("TYT/"),l=n("h/AT"),b=n("xJ+t"),p=n("R/7W"),d=n("M1DL"),m=n("Valr"),f=n("Use3"),h=n("p+mS"),g=n("DUip"),y=n("GsDI"),U=n("OJ6B"),v=n("pdUi"),V=n("+0bg"),w=n("XIAg"),P=n("MqYC"),C=n("eHTH"),x=n("uad8"),k=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function _(t,e){if(1&t){var n=u.Wb();u.Vb(0,"button",17),u.dc("click",(function(){return u.xc(n),u.hc(2)._getAllPurchases()})),u.Vb(1,"mat-icon"),u.Gc(2,"refresh"),u.Ub(),u.Ub()}}var G=function(t){return{purchase:t}};function I(t,e){if(1&t&&(u.Vb(0,"div"),u.Qb(1,"mat-divider"),u.Vb(2,"mat-list-item"),u.Vb(3,"div",18),u.Gc(4),u.Ub(),u.Vb(5,"h1",19),u.Gc(6),u.Ub(),u.Vb(7,"span",19),u.Gc(8),u.Ub(),u.Vb(9,"h6",19),u.Gc(10),u.ic(11,"currency"),u.Ub(),u.Vb(12,"button",20),u.Vb(13,"mat-icon"),u.Gc(14,"more_vert"),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t){var n=e.$implicit;u.hc(2);var r=u.tc(14);u.Cb(4),u.Ic("\n",n.supplier.name?n.supplier.name.substring(0,1).toUpperCase():n.supplier.toString().substring(0,1).toUpperCase(),"\n"),u.Cb(2),u.Hc(n.refNumber),u.Cb(2),u.Jc("",n.type," - ",n.paid?"Paid":"Not Paid",""),u.Cb(2),u.Hc(u.kc(11,7,n.amount,"TZS ")),u.Cb(2),u.nc("matMenuTriggerFor",r)("matMenuTriggerData",u.qc(10,G,n))}}function O(t,e){if(1&t&&(u.Vb(0,"div"),u.Vb(1,"div",10),u.Vb(2,"h6",11),u.Gc(3,"Purchases"),u.Ub(),u.Qb(4,"span",12),u.Ec(5,_,3,0,"button",13),u.Ub(),u.Vb(6,"cdk-virtual-scroll-viewport",14),u.Vb(7,"mat-list",15),u.Ec(8,I,15,12,"div",16),u.ic(9,"async"),u.Ub(),u.Ub(),u.Ub()),2&t){var n=u.hc();u.Cb(5),u.nc("ngIf",!n.getPurchaseProgress),u.Cb(3),u.nc("cdkVirtualForOf",u.jc(9,2,n.purchases))}}function F(t,e){1&t&&(u.Vb(0,"div",21),u.Qb(1,"mat-progress-spinner",22),u.Vb(2,"span"),u.Gc(3,"Fetch purchases"),u.Ub(),u.Ub()),2&t&&(u.Cb(1),u.nc("diameter",40))}function M(t,e){if(1&t){var n=u.Wb();u.Vb(0,"button",23),u.dc("click",(function(){u.xc(n);var t=u.hc().purchase;return u.hc().recordPayment(t)})),u.Gc(1,"\nRecord Payment\n"),u.Ub()}}function S(t,e){if(1&t){var n=u.Wb();u.Vb(0,"button",23),u.dc("click",(function(){u.xc(n);var t=e.purchase;return u.hc().showPurchaseDetails(t)})),u.Gc(1,"View"),u.Ub(),u.Ec(2,M,2,0,"button",24),u.Vb(3,"button",23),u.dc("click",(function(){u.xc(n);var t=e.purchase;return u.hc().deletePurchase(t)})),u.Gc(4,"Delete"),u.Ub()}if(2&t){var r=e.purchase;u.Cb(2),u.nc("ngIf",!r.paid)}}var T=function(t){function e(e,n,r){var o=t.call(this)||this;return o.purchaseDatabase=e,o.bottomSheet=n,o.snack=r,o.getPurchaseProgress=!1,o.loadMoreProgress=!1,o}return k(e,t),e.prototype.ngOnInit=function(){this._getAllPurchases()},e.prototype.handleSearch=function(t){},e.prototype._getAllPurchases=function(){var t=this;this.getPurchaseProgress=!0,this.purchaseDatabase.getAllPurchase({}).then((function(e){t.purchasesArray=e,t.purchases=Object(a.a)(t.purchasesArray),t.getPurchaseProgress=!1})).catch((function(e){t.getPurchaseProgress=!1,t.snack.showMobileInfoMessage("Fails to get purchases, try again"),console.log(e)}))},e.prototype.reload=function(){this._getAllPurchases()},e.prototype.loadMore=function(){var t=this;this.loadMoreProgress=!0,this.purchaseDatabase.getAllPurchase({skip:this.purchasesArray.length}).then((function(e){if(e.length>0){var n=t.purchasesArray;e.forEach((function(t){n.push(t)})),t.purchases=Object(a.a)(t.purchasesArray)}else t.snack.showMobileInfoMessage("No more data");t.loadMoreProgress=!1})).catch((function(e){t.loadMoreProgress=!1,t.snack.showMobileInfoMessage("Fails to load more purchases"),console.log(e)}))},e.prototype.showPurchaseDetails=function(t){this.bottomSheet.open(c.b,{data:t,closeOnNavigation:!0})},e.prototype.recordPayment=function(t){var e=this;this.snack.showMobileInfoMessage("Start update payment records..."),this.purchaseDatabase.recordPayment(t.objectId).then((function(n){e.snack.showMobileInfoMessage("Payments recorded");var r=e.purchasesArray.indexOf(t);if(-1!==r){var o=e.purchasesArray[r];o.paid=!0,e.purchasesArray[r]=o}})).catch((function(t){console.log(t),e.snack.showMobileInfoMessage("Fails to record payments")}))},e.prototype.deletePurchase=function(t){var e=this;this.snack.showMobileInfoMessage("Start delete process...",5e3),this.purchaseDatabase.deletePurchase(t).then((function(n){e.purchasesArray=e.purchasesArray.filter((function(e){return e.objectId!==t.objectId})),e.purchases=Object(a.a)(e.purchasesArray),e.snack.showMobileInfoMessage("Purchase deleted")})).catch((function(t){console.log(t),e.snack.showMobileInfoMessage("Purchase not deleted, try again",5e3)}))},e.\u0275fac=function(t){return new(t||e)(u.Pb(i.a),u.Pb(l.b),u.Pb(s.a))},e.\u0275cmp=u.Jb({type:e,selectors:[["app-purchase-mobile"]],features:[u.Bb([i.a]),u.zb],decls:16,vars:8,consts:[[1,"match-parent"],[1,"match-parent-side",3,"mode","opened"],["sidenav",""],["searchPlaceholder","Search purchase",3,"heading","showSearch","sidenav","showProgress","searchCallback"],[2,"margin-top","16px"],[4,"ngIf"],["style","min-height: 70vh; width: 100vw","class","d-flex justify-content-center align-items-center flex-column",4,"ngIf"],["routerLink","/purchase/create","mat-flat-button","","color","primary",1,"mat-fab",2,"position","fixed","bottom","74px","right","24px"],["menu",""],["matMenuContent",""],[1,"d-flex","flex-row","align-items-center"],[2,"margin","16px  16px 4px 16px"],[1,"flex-grow-1"],["style","margin: 3px 16px 0 4px","mat-icon-button","","color","primary",3,"click",4,"ngIf"],["itemSize","30",2,"height","100vh"],[2,"width","100vw"],[4,"cdkVirtualFor","cdkVirtualForOf"],["mat-icon-button","","color","primary",2,"margin","3px 16px 0 4px",3,"click"],["matListIcon","",1,"text-center",2,"width","40px","height","40px","border-radius","60px","background","#f5f5f5","color","black"],["matLine",""],["matSuffix","","mat-icon-button","",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"d-flex","justify-content-center","align-items-center","flex-column",2,"min-height","70vh","width","100vw"],["mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"]],template:function(t,e){if(1&t&&(u.Vb(0,"mat-sidenav-container",0),u.Vb(1,"mat-sidenav",1,2),u.Qb(3,"app-admin-drawer"),u.Ub(),u.Vb(4,"mat-sidenav-content"),u.Vb(5,"app-toolbar",3),u.dc("searchCallback",(function(t){return e.handleSearch(t)})),u.Ub(),u.Vb(6,"div",4),u.Ec(7,O,10,4,"div",5),u.Ec(8,F,4,1,"div",6),u.Ub(),u.Qb(9,"app-bottom-bar"),u.Vb(10,"button",7),u.Vb(11,"mat-icon"),u.Gc(12,"add"),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Vb(13,"mat-menu",null,8),u.Ec(15,S,5,1,"ng-template",9),u.Ub()),2&t){var n=u.tc(2);u.Cb(1),u.nc("mode",e.enoughWidth()?"side":"over")("opened",e.enoughWidth()),u.Cb(4),u.nc("heading","Purchases")("showSearch",!0)("sidenav",n)("showProgress",!1),u.Cb(2),u.nc("ngIf",e.purchases&&!e.getPurchaseProgress),u.Cb(1),u.nc("ngIf",e.getPurchaseProgress)}},directives:[b.e,b.d,p.a,b.f,d.a,m.t,f.a,h.b,g.c,y.a,U.e,U.a,v.d,v.a,V.a,v.c,w.a,V.c,V.b,P.j,C.i,U.d,x.a,U.b],pipes:[m.b,m.d],styles:[".space[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.full-width[_ngcontent-%COMP%]{width:100%}.example-option-img[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px}[dir=rtl][_ngcontent-%COMP%]   .example-option-img[_ngcontent-%COMP%]{margin-right:0;margin-left:8px}.input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}table[_ngcontent-%COMP%]{width:100%}"]}),e}(o.a)},"jlk/":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r,o=n("425f"),a=n("TYT/"),i=n("xJ+t"),s=n("R/7W"),c=n("M1DL"),u=n("17Os"),l=n("+0bg"),b=n("MqYC"),p=n("DUip"),d=n("GsDI"),m=n("XIAg"),f=n("Use3"),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(t){function e(){return t.call(this)||this}return h(e,t),e.prototype.ngOnInit=function(){},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["app-sales-landing"]],features:[a.zb],decls:27,vars:4,consts:[[1,"match-parent"],[1,"match-parent-side",3,"mode","opened"],["sidenav",""],[3,"heading","sidenav"],[2,"margin-top","16px"],["matRipple","","routerLink","/sale/retail"],["color","primary","matListIcon",""],["matLine",""],["matRipple","","routerLink","/sale/whole"]],template:function(t,e){if(1&t&&(a.Vb(0,"mat-sidenav-container",0),a.Vb(1,"mat-sidenav",1,2),a.Qb(3,"app-admin-drawer"),a.Ub(),a.Vb(4,"mat-sidenav-content"),a.Qb(5,"app-toolbar",3),a.Vb(6,"div",4),a.Vb(7,"mat-card-subtitle"),a.Gc(8,"Manage"),a.Ub(),a.Vb(9,"mat-list"),a.Vb(10,"mat-list-item",5),a.Vb(11,"mat-icon",6),a.Gc(12,"shopping_cart"),a.Ub(),a.Vb(13,"h4",7),a.Gc(14,"Retail"),a.Ub(),a.Vb(15,"p",7),a.Gc(16," manage retail sales"),a.Ub(),a.Ub(),a.Qb(17,"mat-divider"),a.Vb(18,"mat-list-item",8),a.Vb(19,"mat-icon",6),a.Gc(20,"local_shipping"),a.Ub(),a.Vb(21,"h4",7),a.Gc(22,"WholeSale"),a.Ub(),a.Vb(23,"p",7),a.Gc(24,"manage whole sales"),a.Ub(),a.Ub(),a.Qb(25,"mat-divider"),a.Ub(),a.Ub(),a.Qb(26,"app-bottom-bar"),a.Ub(),a.Ub()),2&t){var n=a.tc(2);a.Cb(1),a.nc("mode",e.enoughWidth()?"side":"over")("opened",e.enoughWidth()),a.Cb(4),a.nc("heading","Sale")("sidenav",n)}},directives:[i.e,i.d,s.a,i.f,c.a,u.l,l.a,l.c,b.s,p.c,d.a,l.b,b.j,m.a,f.a],styles:["mat-card-subtitle[_ngcontent-%COMP%]{margin:0 16px}"]}),e}(o.a)},oym1:function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));var r,o=n("425f"),a=n("lmh7"),i=n("6nr9"),s=n("TYT/"),c=n("QJY3"),u=n("xJ+t"),l=n("M1DL"),b=n("Valr"),p=n("uad8"),d=n("2J1J"),m=n("17Os"),f=n("Wjhp"),h=n("eHTH"),g=n("cSbt"),y=n("p+mS"),U=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function v(t,e){1&t&&s.Qb(0,"mat-progress-spinner",5),2&t&&s.nc("diameter",20)("matTooltip","Fetch settings")}function V(t,e){1&t&&s.Qb(0,"mat-progress-spinner",17),2&t&&s.nc("diameter",20)}function w(t,e){if(1&t){var n=s.Wb();s.Vb(0,"form",6),s.Vb(1,"h4"),s.Gc(2,"Printer"),s.Ub(),s.Vb(3,"mat-card",7),s.Vb(4,"mat-card-content"),s.Vb(5,"div",8),s.Vb(6,"mat-card-subtitle"),s.Gc(7,"Allow to sale without printer "),s.Qb(8,"br"),s.Gc(9," ( for desktop version )"),s.Ub(),s.Qb(10,"span",9),s.Qb(11,"mat-slide-toggle",10),s.Ub(),s.Vb(12,"div",11),s.Vb(13,"mat-form-field",12),s.Vb(14,"mat-label"),s.Gc(15,"Header"),s.Ub(),s.Vb(16,"textarea",13),s.Gc(17,"                "),s.Ub(),s.Ub(),s.Ub(),s.Vb(18,"div",11),s.Vb(19,"mat-form-field",12),s.Vb(20,"mat-label"),s.Gc(21,"Footer"),s.Ub(),s.Vb(22,"textarea",14),s.Gc(23,"                "),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(24,"button",15),s.dc("click",(function(){return s.xc(n),s.hc().saveSettings()})),s.Gc(25,"Update "),s.Ec(26,V,1,1,"mat-progress-spinner",16),s.Ub(),s.Ub()}if(2&t){var r=s.hc();s.nc("formGroup",r.settingsForm),s.Cb(16),s.nc("rows",6),s.Cb(6),s.nc("rows",6),s.Cb(2),s.nc("disabled",r.saveSettingProgress),s.Cb(2),s.nc("ngIf",r.saveSettingProgress)}}var P=function(t){function e(e,n,r){var o=t.call(this)||this;return o._formBuilder=e,o._infoMessage=n,o._settings=r,o.getSettingsProgress=!1,o.saveSettingProgress=!1,o}return U(e,t),e.prototype.ngOnInit=function(){this._getSettings()},e.prototype._getSettings=function(){var t=this;this.getSettingsProgress=!0,this._settings.getSettings().then((function(e){t._initiateSettingsForm(e),t.getSettingsProgress=!1})).catch((function(e){console.log(e),t._initiateSettingsForm({saleWithoutPrinter:!0,printerHeader:"",printerFooter:""}),t.getSettingsProgress=!1}))},e.prototype._initiateSettingsForm=function(t){this.settingsForm=this._formBuilder.group({saleWithoutPrinter:[t.saleWithoutPrinter],printerHeader:[t.printerHeader],printerFooter:[t.printerFooter]})},e.prototype.saveSettings=function(){var t=this;this.saveSettingProgress=!0,this._settings.saveSettings(this.settingsForm.value).then((function(e){t._infoMessage.showMobileInfoMessage("Settings saved",3e3),t.saveSettingProgress=!1})).catch((function(e){console.warn(e),t._infoMessage.showMobileInfoMessage("Fails to save settings, try again later",3e3),t.saveSettingProgress=!1}))},e.\u0275fac=function(t){return new(t||e)(s.Pb(c.f),s.Pb(a.a),s.Pb(i.a))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-settings-general"]],features:[s.zb],decls:6,vars:6,consts:[[1,"match-parent"],[3,"heading","hasBackRoute","backLink","showProgress"],[1,"d-flex","flex-column","justify-content-center","align-items-center","stock-new-wrapper"],["mode","indeterminate","color","primary",3,"diameter","matTooltip",4,"ngIf"],["style","margin-top: 16px","class","col-xl-10 col-lg-10 col-md-12 col-sm-12 col-12",3,"formGroup",4,"ngIf"],["mode","indeterminate","color","primary",3,"diameter","matTooltip"],[1,"col-xl-10","col-lg-10","col-md-12","col-sm-12","col-12",2,"margin-top","16px",3,"formGroup"],[1,"mat-elevation-z0"],[1,"d-flex","flex-row","align-items-center"],[1,"toolbar-spacer"],["formControlName","saleWithoutPrinter","matTooltip","If you disable you wont sale without printer","color","primary","labelPosition","after"],[2,"margin-top","16px"],["appearance","fill"],["matTooltip","This content will be shown on top of a receipt when printed","formControlName","printerHeader","placeholder","Type here...","matInput","","type","text",3,"rows"],["matTooltip","This content will be shown on bottom of a receipt when printed","formControlName","printerFooter","placeholder","Type here...","matInput","","type","text",3,"rows"],["color","primary","mat-flat-button","",1,"btn-block","ft-button",2,"margin-top","16px","margin-bottom","16px",3,"disabled","click"],["style","display: inline-block","color","primary","mode","indeterminate",3,"diameter",4,"ngIf"],["color","primary","mode","indeterminate",2,"display","inline-block",3,"diameter"]],template:function(t,e){1&t&&(s.Vb(0,"mat-sidenav-container",0),s.Vb(1,"mat-sidenav-content"),s.Qb(2,"app-toolbar",1),s.Vb(3,"div",2),s.Ec(4,v,1,2,"mat-progress-spinner",3),s.Ec(5,w,27,5,"form",4),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.Cb(2),s.nc("heading","Settings")("hasBackRoute",!0)("backLink","/settings")("showProgress",!1),s.Cb(2),s.nc("ngIf",e.getSettingsProgress),s.Cb(1),s.nc("ngIf",!e.getSettingsProgress&&e.settingsForm))},directives:[u.e,u.f,l.a,b.t,p.a,d.a,c.H,c.s,c.j,m.a,m.d,m.l,f.a,c.r,c.i,h.b,h.f,c.c,g.b,y.b],styles:[".mat-card-subtitle[_ngcontent-%COMP%]{margin-bottom:0}.mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e}(o.a)},qOdb:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("TYT/"),o=n("xJ+t"),a=n("M1DL"),i=n("IzAD"),s=n("TijS"),c=n("eSUq"),u=n("JbTN"),l=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-profile-mobile"]],decls:11,vars:4,consts:[[1,"match-parent"],[3,"heading","hasBackRoute","backLink","showProgress"],[1,"my-profile-wrapper"],["label","Personal Information"],["label","Shop Information"],["label","Authentication"]],template:function(t,e){1&t&&(r.Vb(0,"mat-sidenav-container",0),r.Vb(1,"mat-sidenav-content"),r.Qb(2,"app-toolbar",1),r.Vb(3,"div",2),r.Vb(4,"mat-tab-group"),r.Vb(5,"mat-tab",3),r.Qb(6,"app-profile-personal"),r.Ub(),r.Vb(7,"mat-tab",4),r.Qb(8,"app-profile-address"),r.Ub(),r.Vb(9,"mat-tab",5),r.Qb(10,"app-profile-authentication"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Cb(2),r.nc("heading","Settings")("hasBackRoute",!0)("backLink","/settings")("showProgress",!1))},directives:[o.e,o.f,a.a,i.c,i.a,s.a,c.a,u.a],styles:[".my-profile-wrapper[_ngcontent-%COMP%]{margin-top:16px;background-color:#fff}mat-sidenav-container[_ngcontent-%COMP%], mat-sidenav-content[_ngcontent-%COMP%]{background-color:#fff!important}"]}),t}()},v1ud:function(t,e,n){"use strict";n.d(e,"a",(function(){return F}));var r,o=n("F/XL"),a=n("425f"),i=n("HUVf"),s=n("lmh7"),c=n("PYZa"),u=n("TYT/"),l=n("QJY3"),b=n("ea4N"),p=n("xJ+t"),d=n("M1DL"),m=n("17Os"),f=n("p+mS"),h=n("Valr"),g=n("+0bg"),y=n("OJ6B"),U=n("GsDI"),v=n("uad8"),V=n("2J1J"),w=n("MqYC"),P=n("eHTH"),C=n("XIAg"),x=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function k(t,e){1&t&&(u.Vb(0,"mat-icon"),u.Gc(1,"refresh"),u.Ub())}function _(t,e){1&t&&u.Qb(0,"mat-progress-spinner",12),2&t&&u.nc("diameter",30)}var G=function(t){return{user:t}};function I(t,e){if(1&t&&(u.Vb(0,"div"),u.Vb(1,"mat-list-item",13),u.Vb(2,"button",14),u.Vb(3,"mat-icon"),u.Gc(4,"more_vert"),u.Ub(),u.Ub(),u.Vb(5,"mat-icon",15),u.Gc(6,"person"),u.Ub(),u.Vb(7,"h4",16),u.Gc(8),u.Ub(),u.Vb(9,"p",16),u.Gc(10),u.Ub(),u.Ub(),u.Qb(11,"mat-divider"),u.Ub()),2&t){var n=e.$implicit;u.hc();var r=u.tc(20);u.Cb(2),u.nc("matMenuTriggerFor",r)("matMenuTriggerData",u.qc(4,G,n)),u.Cb(6),u.Hc(n.username),u.Cb(2),u.Hc("manager"===n.role?"MANAGER":"SELLER")}}function O(t,e){if(1&t){var n=u.Wb();u.Vb(0,"button",17),u.dc("click",(function(){u.xc(n);var t=e.user;return u.hc().deleteUser(t)})),u.Gc(1," Delete "),u.Ub(),u.Vb(2,"button",17),u.dc("click",(function(){u.xc(n);var t=e.user;return u.hc().updatePassword(t)})),u.Gc(3," Update password "),u.Ub()}}var F=function(t){function e(e,n,r,o){var a=t.call(this)||this;return a._userDatabase=e,a._formBuilder=n,a._infoMessage=r,a._dialog=o,a.fetchUsersFlag=!1,a}return x(e,t),e.prototype.ngOnInit=function(){this.getUsers()},e.prototype.searchUser=function(t){},e.prototype.getUsers=function(){var t=this;this.fetchUsersFlag=!0,this._userDatabase.getAllUser({size:100,skip:0}).then((function(e){t.usersArray=JSON.parse(JSON.stringify(e)),t.users=Object(o.a)(t.usersArray),t.fetchUsersFlag=!1})).catch((function(e){console.log(e),t.users=Object(o.a)([]),t.fetchUsersFlag=!1}))},e.prototype.deleteUser=function(t){var e=this;this._dialog.open(c.a,{data:t,disableClose:!0}).afterClosed().subscribe((function(n){n?(e.usersArray=e.usersArray.filter((function(e){return e.objectId!==t.objectId})),e.users=Object(o.a)(e.usersArray),e._infoMessage.showMobileInfoMessage("User deleted",3e3)):e._infoMessage.showMobileInfoMessage("User not deleted",3e3)}))},e.prototype.updateUserName=function(t,e){},e.prototype.updateUser=function(t){},e.prototype.updateUserDescription=function(t,e){},e.prototype.openAddUserDialog=function(){var t=this;this._dialog.open(c.b,{closeOnNavigation:!0,hasBackdrop:!0,maxWidth:"400px",minWidth:"80%"}).afterClosed().subscribe((function(e){e&&(t.usersArray.push(e),t.users=Object(o.a)(t.usersArray))}))},e.prototype.updatePassword=function(t){this._dialog.open(c.c,{data:t})},e.\u0275fac=function(t){return new(t||e)(u.Pb(i.a),u.Pb(l.f),u.Pb(s.a),u.Pb(b.b))},e.\u0275cmp=u.Jb({type:e,selectors:[["app-users-mobile"]],features:[u.zb],decls:22,vars:10,consts:[[1,"match-parent"],[3,"heading","backLink","hasBackRoute","showProgress"],[1,"my-users-wrapper"],[1,"d-flex","flex-row",2,"padding-left","16px","padding-right","16px","margin","8px 0"],["color","primary","mat-flat-button","",1,"ft-button",3,"click"],["mat-flat-button","","color","primary",2,"margin-left","4px",3,"disabled","click"],[4,"ngIf"],["matTooltip","fetch users","style","display: inline-block","mode","indeterminate","color","primary",3,"diameter",4,"ngIf"],[1,"toolbar-spacer"],[4,"ngFor","ngForOf"],["opts",""],["matMenuContent",""],["matTooltip","fetch users","mode","indeterminate","color","primary",2,"display","inline-block",3,"diameter"],["matRipple",""],["color","primary","mat-icon-button","","matSuffix","",3,"matMenuTriggerFor","matMenuTriggerData"],["matListIcon",""],["matLine",""],["mat-menu-item","",3,"click"]],template:function(t,e){1&t&&(u.Vb(0,"mat-sidenav-container",0),u.Vb(1,"mat-sidenav-content"),u.Qb(2,"app-toolbar",1),u.Vb(3,"div",2),u.Vb(4,"mat-card-subtitle"),u.Gc(5,"Manage"),u.Ub(),u.Vb(6,"div",3),u.Vb(7,"button",4),u.dc("click",(function(){return e.openAddUserDialog()})),u.Gc(8," Add User "),u.Ub(),u.Vb(9,"button",5),u.dc("click",(function(){return e.getUsers()})),u.Ec(10,k,2,0,"mat-icon",6),u.Ec(11,_,1,1,"mat-progress-spinner",7),u.Ub(),u.Qb(12,"span",8),u.Ub(),u.Vb(13,"div"),u.Vb(14,"mat-card-subtitle"),u.Gc(15,"All Users"),u.Ub(),u.Vb(16,"mat-list"),u.Ec(17,I,12,6,"div",9),u.ic(18,"async"),u.Ub(),u.Vb(19,"mat-menu",null,10),u.Ec(21,O,4,0,"ng-template",11),u.Ub(),u.Ub(),u.Ub(),u.Ub(),u.Ub()),2&t&&(u.Cb(2),u.nc("heading","Settings")("backLink","/settings")("hasBackRoute",!0)("showProgress",!1),u.Cb(7),u.nc("disabled",e.fetchUsersFlag),u.Cb(1),u.nc("ngIf",!e.fetchUsersFlag),u.Cb(1),u.nc("ngIf",e.fetchUsersFlag),u.Cb(6),u.nc("ngForOf",u.jc(18,8,e.users)))},directives:[p.e,p.f,d.a,m.l,f.b,h.t,g.a,h.s,y.e,y.a,U.a,v.a,V.a,g.c,w.s,P.i,y.d,g.b,w.j,C.a,y.b],pipes:[h.b],styles:["td[_ngcontent-%COMP%]{padding:8px}.my-users-wrapper[_ngcontent-%COMP%]{margin-top:16px}mat-ink-bar[_ngcontent-%COMP%]:after{margin-left:4px!important;height:5px!important}mat-card-subtitle[_ngcontent-%COMP%]{margin:0 16px}"]}),e}(a.a)}}]);